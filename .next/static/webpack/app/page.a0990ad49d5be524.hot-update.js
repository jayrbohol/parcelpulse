"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/LiveMap.tsx":
/*!********************************!*\
  !*** ./components/LiveMap.tsx ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ LiveMap; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _GoogleMap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GoogleMap */ \"(app-pages-browser)/./components/GoogleMap.tsx\");\n/* harmony import */ var _hooks_useCourierWS__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/hooks/useCourierWS */ \"(app-pages-browser)/./hooks/useCourierWS.ts\");\n/* harmony import */ var _lib_geo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/geo */ \"(app-pages-browser)/./lib/geo.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction LiveMap(param) {\n    let { center, path, recipient, onProgress, messages } = param;\n    _s();\n    // WebSocket-provided positions: courier + dynamic nodes\n    const { wsPos, recipient: dynamicRecipient, pickup, sortation: dynSortation, delivery } = (0,_hooks_useCourierWS__WEBPACK_IMPORTED_MODULE_2__.useCourierWS)();\n    const effectiveRecipient = dynamicRecipient ? {\n        lat: dynamicRecipient.lat,\n        lng: dynamicRecipient.lng\n    } : recipient;\n    const effectivePickup = pickup ? {\n        lat: pickup.lat,\n        lng: pickup.lng\n    } : path[0];\n    const effectiveSortation = dynSortation ? {\n        lat: dynSortation.lat,\n        lng: dynSortation.lng\n    } : path.length >= 2 ? path[1] : undefined;\n    const effectiveDeliveryHub = delivery ? {\n        lat: delivery.lat,\n        lng: delivery.lng\n    } : path.length >= 3 ? path[2] : undefined;\n    const courier = wsPos ? {\n        lat: wsPos.lat,\n        lng: wsPos.lng\n    } : effectivePickup;\n    const { isNearby, hasArrived, distanceMeters } = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        if (!courier || !effectiveRecipient) return {\n            isNearby: false,\n            hasArrived: false,\n            distanceMeters: Infinity\n        };\n        const d = (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(courier, effectiveRecipient) // meters\n        ;\n        return {\n            distanceMeters: d,\n            isNearby: d < 1000,\n            hasArrived: d < 100\n        };\n    }, [\n        courier,\n        effectiveRecipient\n    ]);\n    // Doorbell sound when entering proximity\n    const audioCtxRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n    const wasArrivedRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        // Initialize lazily to avoid SSR issues and create only on client\n        if (!audioCtxRef.current) {\n            try {\n                // @ts-ignore - webkit prefix for older Safari\n                const Ctx = window.AudioContext || window.webkitAudioContext;\n                audioCtxRef.current = new Ctx();\n            } catch (e) {\n                audioCtxRef.current = null;\n            }\n        }\n        // Attempt to auto-resume on first user interaction (mobile browsers)\n        const onFirstInteract = ()=>{\n            const ctx = audioCtxRef.current;\n            if (ctx && ctx.state === \"suspended\") ctx.resume().catch(()=>{});\n        };\n        window.addEventListener(\"pointerdown\", onFirstInteract, {\n            once: true\n        });\n        return ()=>window.removeEventListener(\"pointerdown\", onFirstInteract);\n    }, []);\n    const ringDoorbell = ()=>{\n        const ctx = audioCtxRef.current;\n        if (!ctx) return;\n        const now = ctx.currentTime;\n        const make = function(freq, start, dur) {\n            let gain = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0.08;\n            const osc = ctx.createOscillator();\n            const g = ctx.createGain();\n            osc.type = \"sine\";\n            osc.frequency.value = freq;\n            osc.connect(g);\n            g.connect(ctx.destination);\n            // simple envelope for subtle chime\n            g.gain.setValueAtTime(0, start);\n            g.gain.linearRampToValueAtTime(gain, start + 0.02);\n            g.gain.exponentialRampToValueAtTime(0.0001, start + dur);\n            osc.start(start);\n            osc.stop(start + dur + 0.02);\n        };\n        // Two-tone soft doorbell\n        make(880, now, 0.18) // A5\n        ;\n        make(1318.51, now + 0.12, 0.22) // E6\n        ;\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        if (hasArrived && !wasArrivedRef.current) {\n            ringDoorbell();\n        }\n        wasArrivedRef.current = hasArrived;\n    }, [\n        hasArrived\n    ]);\n    // Small inline SVG icons to match marker semantics\n    const WarehouseIcon = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 32 32\",\n            \"aria-hidden\": \"true\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                    d: \"M4 14 L16 6 L28 14 V26 H4 Z\",\n                    fill: \"#94A3B8\",\n                    stroke: \"#334155\",\n                    strokeWidth: \"2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 93,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                    x: \"7\",\n                    y: \"18\",\n                    width: \"6\",\n                    height: \"6\",\n                    fill: \"#E5E7EB\",\n                    stroke: \"#334155\",\n                    strokeWidth: \"1.5\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 94,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                    x: \"19\",\n                    y: \"18\",\n                    width: \"6\",\n                    height: \"6\",\n                    fill: \"#E5E7EB\",\n                    stroke: \"#334155\",\n                    strokeWidth: \"1.5\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 95,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n            lineNumber: 92,\n            columnNumber: 5\n        }, this);\n    const TruckIcon = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 32 32\",\n            \"aria-hidden\": \"true\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                    x: \"3\",\n                    y: \"14\",\n                    width: \"14\",\n                    height: \"8\",\n                    rx: \"2\",\n                    fill: \"#60A5FA\",\n                    stroke: \"#1D4ED8\",\n                    strokeWidth: \"2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 100,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                    d: \"M17 16 H25 L28 19 V22 H17 Z\",\n                    fill: \"#3B82F6\",\n                    stroke: \"#1D4ED8\",\n                    strokeWidth: \"2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 101,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                    cx: \"9\",\n                    cy: \"24\",\n                    r: \"3\",\n                    fill: \"#0EA5E9\",\n                    stroke: \"#075985\",\n                    strokeWidth: \"2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 102,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                    cx: \"23\",\n                    cy: \"24\",\n                    r: \"3\",\n                    fill: \"#0EA5E9\",\n                    stroke: \"#075985\",\n                    strokeWidth: \"2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 103,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n            lineNumber: 99,\n            columnNumber: 5\n        }, this);\n    const PersonIcon = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 32 32\",\n            \"aria-hidden\": \"true\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                    cx: \"16\",\n                    cy: \"11\",\n                    r: \"5\",\n                    fill: \"#F87171\",\n                    stroke: \"#7F1D1D\",\n                    strokeWidth: \"2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 108,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                    d: \"M8 26c0-4 3.5-7 8-7s8 3 8 7\",\n                    fill: \"#FCA5A5\",\n                    stroke: \"#7F1D1D\",\n                    strokeWidth: \"2\",\n                    strokeLinejoin: \"round\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 109,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n            lineNumber: 107,\n            columnNumber: 5\n        }, this);\n    // Logical waypoints now come from dynamic feed (fallback to provided path): pickup -> sortation -> delivery hub -> recipient\n    const origin = effectivePickup;\n    const sortation = effectiveSortation;\n    const hub = effectiveDeliveryHub;\n    // Build a breadcrumb polyline from actual received positions (WS) to visualize traveled path.\n    const [breadcrumbs, setBreadcrumbs] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(()=>[\n            origin\n        ]);\n    const lastAddedRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(origin);\n    // If the origin changes dynamically (first pickup update arrives), reset breadcrumbs\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        setBreadcrumbs([\n            origin\n        ]);\n        lastAddedRef.current = origin;\n    }, [\n        origin.lat,\n        origin.lng\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        if (!courier) return;\n        const last = lastAddedRef.current;\n        const dist = (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(last, courier);\n        // Only append if moved > 5 meters to reduce noise\n        if (dist > 5) {\n            setBreadcrumbs((prev)=>[\n                    ...prev,\n                    courier\n                ]);\n            lastAddedRef.current = courier;\n        }\n    }, [\n        courier\n    ]);\n    const distanceText = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        if (distanceMeters === undefined || !isFinite(distanceMeters)) return \"\";\n        return distanceMeters >= 1000 ? \"\".concat((distanceMeters / 1000).toFixed(2), \" km away\") : \"\".concat(Math.round(distanceMeters), \" m away\");\n    }, [\n        distanceMeters\n    ]);\n    // Waypoint arrival & status messaging (transition-based)\n    const waypointHitRadius = 30 // meters threshold\n    ;\n    const isAtPickup = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>(0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(courier, origin) <= waypointHitRadius, [\n        courier,\n        origin\n    ]);\n    const isAtSortation = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>sortation ? (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(courier, sortation) <= waypointHitRadius : false, [\n        courier,\n        sortation\n    ]);\n    const isAtHub = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>hub ? (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(courier, hub) <= waypointHitRadius : false, [\n        courier,\n        hub\n    ]);\n    const [legMsg, setLegMsg] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(null);\n    const [legIcon, setLegIcon] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(null);\n    const [legTimestamp, setLegTimestamp] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(null);\n    const [sinceChangeMs, setSinceChangeMs] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(0);\n    const tickRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n    const prevFlagsRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)({\n        atPickup: false,\n        atSortation: false,\n        atHub: false,\n        arrived: false\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        const prev = prevFlagsRef.current;\n        const localized = {\n            pickedUp: \"Picked up – parcel in transit\",\n            atSortation: \"Parcel received at sortation center\",\n            toHub: \"On the way to Delivery Hub\",\n            atHub: \"Arrived at delivery hub\",\n            outForDelivery: \"Out for delivery\",\n            arriving: \"Arriving now\",\n            ...messages || {}\n        };\n        const setStatus = (msg, icon)=>{\n            setLegMsg(msg);\n            setLegIcon(icon);\n            setLegTimestamp(Date.now());\n            setSinceChangeMs(0);\n        };\n        if (isAtPickup && !prev.atPickup) setStatus(localized.pickedUp, \"truck\");\n        if (isAtSortation && !prev.atSortation) setStatus(localized.atSortation, \"warehouse\");\n        if (!isAtSortation && prev.atSortation && !isAtHub && !hasArrived) setStatus(localized.toHub, \"truck\");\n        if (isAtHub && !prev.atHub) setStatus(localized.atHub, \"truck\");\n        if (!isAtHub && prev.atHub && !hasArrived) setStatus(localized.outForDelivery, \"truck\");\n        if (hasArrived && !prev.arrived) setStatus(localized.arriving, \"person\");\n        prevFlagsRef.current = {\n            atPickup: isAtPickup,\n            atSortation: isAtSortation,\n            atHub: isAtHub,\n            arrived: hasArrived\n        };\n    }, [\n        isAtPickup,\n        isAtSortation,\n        isAtHub,\n        hasArrived,\n        messages\n    ]);\n    // Elapsed time since last status change\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        if (!legTimestamp) return;\n        const tick = ()=>{\n            setSinceChangeMs(Date.now() - legTimestamp);\n            tickRef.current = window.setTimeout(tick, 1000);\n        };\n        tick();\n        return ()=>{\n            if (tickRef.current) window.clearTimeout(tickRef.current);\n        };\n    }, [\n        legTimestamp\n    ]);\n    // Leg progress percentage\n    const legProgressRaw = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        // Determine current leg start & end\n        if (!courier) return null;\n        const legs = [\n            {\n                start: origin,\n                end: sortation,\n                label: \"to-sortation\"\n            },\n            {\n                start: sortation,\n                end: hub,\n                label: \"to-hub\"\n            },\n            {\n                start: hub,\n                end: effectiveRecipient,\n                label: \"to-recipient\"\n            }\n        ];\n        for (const leg of legs){\n            if (!leg.start || !leg.end) continue;\n            const total = (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(leg.start, leg.end);\n            if (total === 0) continue;\n            // If courier is within radius of end, treat as 100%\n            if ((0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(courier, leg.end) <= waypointHitRadius) return {\n                pct: 1,\n                label: leg.label\n            };\n            // Check if courier is between start and end using projection heuristic (sum distances vs total)\n            const distStart = (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(leg.start, courier);\n            const distEnd = (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(courier, leg.end);\n            if (distStart < total && distEnd < total && distStart + distEnd <= total * 1.25) {\n                const pct = Math.min(1, Math.max(0, distStart / total));\n                return {\n                    pct,\n                    label: leg.label\n                };\n            }\n        }\n        return null;\n    }, [\n        courier,\n        origin,\n        sortation,\n        hub,\n        effectiveRecipient\n    ]);\n    // Moving average smoothing window\n    const progressWindowRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)([]);\n    const legProgress = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        if (!legProgressRaw) {\n            progressWindowRef.current = [];\n            return null;\n        }\n        progressWindowRef.current.push(legProgressRaw.pct);\n        if (progressWindowRef.current.length > 10) progressWindowRef.current.shift();\n        const avg = progressWindowRef.current.reduce((s, v)=>s + v, 0) / progressWindowRef.current.length;\n        return {\n            pct: avg,\n            label: legProgressRaw.label\n        };\n    }, [\n        legProgressRaw\n    ]);\n    // Emit progress callback\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        if (onProgress) {\n            onProgress({\n                phase: (legProgress === null || legProgress === void 0 ? void 0 : legProgress.label) || (hasArrived ? \"recipient\" : \"unknown\"),\n                progressPct: legProgress ? legProgress.pct : null\n            });\n        }\n    }, [\n        legProgress,\n        onProgress,\n        hasArrived\n    ]);\n    const prettyTimestamp = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        if (!legTimestamp) return \"\";\n        const d = new Date(legTimestamp);\n        return d.toLocaleTimeString([], {\n            hour: \"2-digit\",\n            minute: \"2-digit\",\n            second: \"2-digit\"\n        });\n    }, [\n        legTimestamp\n    ]);\n    const elapsedPretty = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        if (!legTimestamp) return \"\";\n        const totalSec = Math.floor(sinceChangeMs / 1000);\n        const m = Math.floor(totalSec / 60);\n        const s = totalSec % 60;\n        return \"(+\".concat(m, \"m\").concat(s.toString().padStart(2, \"0\"), \"s)\");\n    }, [\n        sinceChangeMs,\n        legTimestamp\n    ]);\n    const phaseColor = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        if (!legMsg) return \"bg-slate-800/95\";\n        if (legMsg.includes(\"sortation\")) return \"bg-indigo-700/95\";\n        if (legMsg.includes(\"Delivery Hub\")) return \"bg-blue-700/95\";\n        if (legMsg.includes(\"Out for delivery\")) return \"bg-amber-600/95\";\n        if (legMsg.includes(\"Arriving now\")) return \"bg-emerald-700/95\";\n        if (legMsg.includes(\"Picked up\")) return \"bg-sky-700/95\";\n        return \"bg-slate-800/95\";\n    }, [\n        legMsg\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative h-full w-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_GoogleMap__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                center: center,\n                path: breadcrumbs,\n                recipient: effectiveRecipient,\n                courier: courier,\n                sortation: sortation,\n                hub: hub\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                lineNumber: 266,\n                columnNumber: 7\n            }, this),\n            legMsg && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"pointer-events-none absolute left-0 right-0 top-0 z-10\",\n                role: \"status\",\n                \"aria-live\": \"polite\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mx-auto max-w-xl rounded-b-lg \".concat(phaseColor, \" px-4 py-2 text-sm font-semibold text-slate-100 shadow-lg transition-colors\"),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2 flex-wrap\",\n                        children: [\n                            legIcon === \"warehouse\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(WarehouseIcon, {}, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 278,\n                                columnNumber: 43\n                            }, this),\n                            legIcon === \"truck\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TruckIcon, {}, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 279,\n                                columnNumber: 39\n                            }, this),\n                            legIcon === \"person\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PersonIcon, {}, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 280,\n                                columnNumber: 40\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: legMsg\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 281,\n                                columnNumber: 15\n                            }, this),\n                            prettyTimestamp && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs font-normal text-slate-200\",\n                                children: [\n                                    \"@ \",\n                                    prettyTimestamp\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 282,\n                                columnNumber: 35\n                            }, this),\n                            elapsedPretty && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs font-medium text-slate-300\",\n                                children: elapsedPretty\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 283,\n                                columnNumber: 33\n                            }, this),\n                            legProgress && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-auto text-xs font-medium tracking-wide text-slate-300\",\n                                children: [\n                                    legProgress.label.replace(\"to-\", \"\"),\n                                    \": \",\n                                    (legProgress.pct * 100).toFixed(0),\n                                    \"%\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                        lineNumber: 277,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 276,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                lineNumber: 275,\n                columnNumber: 9\n            }, this),\n            (isNearby || hasArrived) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"pointer-events-none absolute top-3 right-3 z-10 rounded-lg px-4 py-2 text-sm font-semibold text-white shadow-lg \".concat(hasArrived ? \"bg-emerald-600/95\" : \"bg-amber-500/95\"),\n                role: \"status\",\n                \"aria-live\": \"polite\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                lineNumber: 294,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n        lineNumber: 265,\n        columnNumber: 5\n    }, this);\n}\n_s(LiveMap, \"W/0BFcEQfhHnHbLmmeoxpTU3mN0=\", false, function() {\n    return [\n        _hooks_useCourierWS__WEBPACK_IMPORTED_MODULE_2__.useCourierWS\n    ];\n});\n_c = LiveMap;\nvar _c;\n$RefreshReg$(_c, \"LiveMap\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvTGl2ZU1hcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRW1DO0FBQ2dCO0FBRWQ7QUFDdUI7QUFVN0MsU0FBU08sUUFBUSxLQUF3RDtRQUF4RCxFQUFFQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsU0FBUyxFQUFFQyxVQUFVLEVBQUVDLFFBQVEsRUFBUyxHQUF4RDs7SUFDOUIsd0RBQXdEO0lBQ3hELE1BQU0sRUFBRUMsS0FBSyxFQUFFSCxXQUFXSSxnQkFBZ0IsRUFBRUMsTUFBTSxFQUFFQyxXQUFXQyxZQUFZLEVBQUVDLFFBQVEsRUFBRSxHQUFHakIsaUVBQVlBO0lBQ3RHLE1BQU1rQixxQkFBcUJMLG1CQUFtQjtRQUFFTSxLQUFLTixpQkFBaUJNLEdBQUc7UUFBRUMsS0FBS1AsaUJBQWlCTyxHQUFHO0lBQUMsSUFBSVg7SUFDekcsTUFBTVksa0JBQWtCUCxTQUFTO1FBQUVLLEtBQUtMLE9BQU9LLEdBQUc7UUFBRUMsS0FBS04sT0FBT00sR0FBRztJQUFDLElBQUlaLElBQUksQ0FBQyxFQUFFO0lBQy9FLE1BQU1jLHFCQUFxQk4sZUFBZTtRQUFFRyxLQUFLSCxhQUFhRyxHQUFHO1FBQUVDLEtBQUtKLGFBQWFJLEdBQUc7SUFBQyxJQUFLWixLQUFLZSxNQUFNLElBQUksSUFBSWYsSUFBSSxDQUFDLEVBQUUsR0FBR2dCO0lBQzNILE1BQU1DLHVCQUF1QlIsV0FBVztRQUFFRSxLQUFLRixTQUFTRSxHQUFHO1FBQUVDLEtBQUtILFNBQVNHLEdBQUc7SUFBQyxJQUFLWixLQUFLZSxNQUFNLElBQUksSUFBSWYsSUFBSSxDQUFDLEVBQUUsR0FBR2dCO0lBQ2pILE1BQU1FLFVBQVVkLFFBQVE7UUFBRU8sS0FBS1AsTUFBTU8sR0FBRztRQUFFQyxLQUFLUixNQUFNUSxHQUFHO0lBQUMsSUFBSUM7SUFFN0QsTUFBTSxFQUFFTSxRQUFRLEVBQUVDLFVBQVUsRUFBRUMsY0FBYyxFQUFFLEdBQUcxQiw4Q0FB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QUk7b0NBQUkzQixDQUFBQSxZQUFZTixHQUFHLEdBQUcsR0FBRSxFQUFHdkMsT0FBTyxDQUFDO29DQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQU9yRnZFLENBQUFBLFlBQVlDLFVBQVMsbUJBQ3JCLDhEQUFDeUk7Z0JBQ0NDLFdBQVcsbUhBQXdLLE9BQXJEMUksYUFBYSxzQkFBc0I7Z0JBQ2pLMkksTUFBSztnQkFDTEMsYUFBVTs7Ozs7Ozs7Ozs7O0FBT3BCO0dBL1J3QmxLOztRQUVvRU4sNkRBQVlBOzs7S0FGaEZNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvTGl2ZU1hcC50c3g/ZmI4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxyXG5cclxuaW1wb3J0IEdvb2dsZU1hcCBmcm9tICcuL0dvb2dsZU1hcCdcclxuaW1wb3J0IHsgdXNlQ291cmllcldTIH0gZnJvbSAnQC9ob29rcy91c2VDb3VyaWVyV1MnXHJcbmltcG9ydCB0eXBlIHsgTGF0TG5nIH0gZnJvbSAnQC9saWIvZ2VvJ1xyXG5pbXBvcnQgeyBoYXZlcnNpbmUgfSBmcm9tICdAL2xpYi9nZW8nXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xyXG5cclxudHlwZSBQcm9wcyA9IHtcclxuICBjZW50ZXI6IExhdExuZ1xyXG4gIHBhdGg6IExhdExuZ1tdXHJcbiAgcmVjaXBpZW50OiBMYXRMbmdcclxuICBvblByb2dyZXNzPzogKGluZm86IHsgcGhhc2U6IHN0cmluZzsgcHJvZ3Jlc3NQY3Q6IG51bWJlciB8IG51bGwgfSkgPT4gdm9pZFxyXG4gIG1lc3NhZ2VzPzogUGFydGlhbDxSZWNvcmQ8J3BpY2tlZFVwJyB8ICdhdFNvcnRhdGlvbicgfCAndG9IdWInIHwgJ2F0SHViJyB8ICdvdXRGb3JEZWxpdmVyeScgfCAnYXJyaXZpbmcnLCBzdHJpbmc+PlxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMaXZlTWFwKHsgY2VudGVyLCBwYXRoLCByZWNpcGllbnQsIG9uUHJvZ3Jlc3MsIG1lc3NhZ2VzIH06IFByb3BzKSB7XHJcbiAgLy8gV2ViU29ja2V0LXByb3ZpZGVkIHBvc2l0aW9uczogY291cmllciArIGR5bmFtaWMgbm9kZXNcclxuICBjb25zdCB7IHdzUG9zLCByZWNpcGllbnQ6IGR5bmFtaWNSZWNpcGllbnQsIHBpY2t1cCwgc29ydGF0aW9uOiBkeW5Tb3J0YXRpb24sIGRlbGl2ZXJ5IH0gPSB1c2VDb3VyaWVyV1MoKVxyXG4gIGNvbnN0IGVmZmVjdGl2ZVJlY2lwaWVudCA9IGR5bmFtaWNSZWNpcGllbnQgPyB7IGxhdDogZHluYW1pY1JlY2lwaWVudC5sYXQsIGxuZzogZHluYW1pY1JlY2lwaWVudC5sbmcgfSA6IHJlY2lwaWVudFxyXG4gIGNvbnN0IGVmZmVjdGl2ZVBpY2t1cCA9IHBpY2t1cCA/IHsgbGF0OiBwaWNrdXAubGF0LCBsbmc6IHBpY2t1cC5sbmcgfSA6IHBhdGhbMF1cclxuICBjb25zdCBlZmZlY3RpdmVTb3J0YXRpb24gPSBkeW5Tb3J0YXRpb24gPyB7IGxhdDogZHluU29ydGF0aW9uLmxhdCwgbG5nOiBkeW5Tb3J0YXRpb24ubG5nIH0gOiAocGF0aC5sZW5ndGggPj0gMiA/IHBhdGhbMV0gOiB1bmRlZmluZWQpXHJcbiAgY29uc3QgZWZmZWN0aXZlRGVsaXZlcnlIdWIgPSBkZWxpdmVyeSA/IHsgbGF0OiBkZWxpdmVyeS5sYXQsIGxuZzogZGVsaXZlcnkubG5nIH0gOiAocGF0aC5sZW5ndGggPj0gMyA/IHBhdGhbMl0gOiB1bmRlZmluZWQpXHJcbiAgY29uc3QgY291cmllciA9IHdzUG9zID8geyBsYXQ6IHdzUG9zLmxhdCwgbG5nOiB3c1Bvcy5sbmcgfSA6IGVmZmVjdGl2ZVBpY2t1cFxyXG5cclxuICBjb25zdCB7IGlzTmVhcmJ5LCBoYXNBcnJpdmVkLCBkaXN0YW5jZU1ldGVycyB9ID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoIWNvdXJpZXIgfHwgIWVmZmVjdGl2ZVJlY2lwaWVudCkgcmV0dXJuIHsgaXNOZWFyYnk6IGZhbHNlLCBoYXNBcnJpdmVkOiBmYWxzZSwgZGlzdGFuY2VNZXRlcnM6IEluZmluaXR5IH1cclxuICAgIGNvbnN0IGQgPSBoYXZlcnNpbmUoY291cmllciwgZWZmZWN0aXZlUmVjaXBpZW50KSAvLyBtZXRlcnNcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRpc3RhbmNlTWV0ZXJzOiBkLFxyXG4gICAgICBpc05lYXJieTogZCA8IDEwMDAsIC8vIDwgMSBrbVxyXG4gICAgICBoYXNBcnJpdmVkOiBkIDwgMTAwLCAvLyA8IDAuMSBrbVxyXG4gICAgfVxyXG4gIH0sIFtjb3VyaWVyLCBlZmZlY3RpdmVSZWNpcGllbnRdKVxyXG5cclxuICAvLyBEb29yYmVsbCBzb3VuZCB3aGVuIGVudGVyaW5nIHByb3hpbWl0eVxyXG4gIGNvbnN0IGF1ZGlvQ3R4UmVmID0gdXNlUmVmPEF1ZGlvQ29udGV4dCB8IG51bGw+KG51bGwpXHJcbiAgY29uc3Qgd2FzQXJyaXZlZFJlZiA9IHVzZVJlZihmYWxzZSlcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIEluaXRpYWxpemUgbGF6aWx5IHRvIGF2b2lkIFNTUiBpc3N1ZXMgYW5kIGNyZWF0ZSBvbmx5IG9uIGNsaWVudFxyXG4gICAgaWYgKCFhdWRpb0N0eFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIHdlYmtpdCBwcmVmaXggZm9yIG9sZGVyIFNhZmFyaVxyXG4gICAgICAgIGNvbnN0IEN0eCA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dFxyXG4gICAgICAgIGF1ZGlvQ3R4UmVmLmN1cnJlbnQgPSBuZXcgQ3R4KClcclxuICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgYXVkaW9DdHhSZWYuY3VycmVudCA9IG51bGxcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gQXR0ZW1wdCB0byBhdXRvLXJlc3VtZSBvbiBmaXJzdCB1c2VyIGludGVyYWN0aW9uIChtb2JpbGUgYnJvd3NlcnMpXHJcbiAgICBjb25zdCBvbkZpcnN0SW50ZXJhY3QgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN0eCA9IGF1ZGlvQ3R4UmVmLmN1cnJlbnRcclxuICAgICAgaWYgKGN0eCAmJiBjdHguc3RhdGUgPT09ICdzdXNwZW5kZWQnKSBjdHgucmVzdW1lKCkuY2F0Y2goKCkgPT4ge30pXHJcbiAgICB9XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBvbkZpcnN0SW50ZXJhY3QsIHsgb25jZTogdHJ1ZSB9KVxyXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIG9uRmlyc3RJbnRlcmFjdClcclxuICB9LCBbXSlcclxuXHJcbiAgY29uc3QgcmluZ0Rvb3JiZWxsID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY3R4ID0gYXVkaW9DdHhSZWYuY3VycmVudFxyXG4gICAgaWYgKCFjdHgpIHJldHVyblxyXG4gICAgY29uc3Qgbm93ID0gY3R4LmN1cnJlbnRUaW1lXHJcbiAgICBjb25zdCBtYWtlID0gKGZyZXE6IG51bWJlciwgc3RhcnQ6IG51bWJlciwgZHVyOiBudW1iZXIsIGdhaW4gPSAwLjA4KSA9PiB7XHJcbiAgICAgIGNvbnN0IG9zYyA9IGN0eC5jcmVhdGVPc2NpbGxhdG9yKClcclxuICAgICAgY29uc3QgZyA9IGN0eC5jcmVhdGVHYWluKClcclxuICAgICAgb3NjLnR5cGUgPSAnc2luZSdcclxuICAgICAgb3NjLmZyZXF1ZW5jeS52YWx1ZSA9IGZyZXFcclxuICAgICAgb3NjLmNvbm5lY3QoZylcclxuICAgICAgZy5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbilcclxuICAgICAgLy8gc2ltcGxlIGVudmVsb3BlIGZvciBzdWJ0bGUgY2hpbWVcclxuICAgICAgZy5nYWluLnNldFZhbHVlQXRUaW1lKDAsIHN0YXJ0KVxyXG4gICAgICBnLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoZ2Fpbiwgc3RhcnQgKyAwLjAyKVxyXG4gICAgICBnLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAwMDEsIHN0YXJ0ICsgZHVyKVxyXG4gICAgICBvc2Muc3RhcnQoc3RhcnQpXHJcbiAgICAgIG9zYy5zdG9wKHN0YXJ0ICsgZHVyICsgMC4wMilcclxuICAgIH1cclxuICAgIC8vIFR3by10b25lIHNvZnQgZG9vcmJlbGxcclxuICAgIG1ha2UoODgwLCBub3csIDAuMTgpIC8vIEE1XHJcbiAgICBtYWtlKDEzMTguNTEsIG5vdyArIDAuMTIsIDAuMjIpIC8vIEU2XHJcbiAgfVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGhhc0Fycml2ZWQgJiYgIXdhc0Fycml2ZWRSZWYuY3VycmVudCkge1xyXG4gICAgICByaW5nRG9vcmJlbGwoKVxyXG4gICAgfVxyXG4gICAgd2FzQXJyaXZlZFJlZi5jdXJyZW50ID0gaGFzQXJyaXZlZFxyXG4gIH0sIFtoYXNBcnJpdmVkXSlcclxuXHJcbiAgLy8gU21hbGwgaW5saW5lIFNWRyBpY29ucyB0byBtYXRjaCBtYXJrZXIgc2VtYW50aWNzXHJcbiAgY29uc3QgV2FyZWhvdXNlSWNvbiA9ICgpID0+IChcclxuICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAzMiAzMlwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxyXG4gICAgICA8cGF0aCBkPVwiTTQgMTQgTDE2IDYgTDI4IDE0IFYyNiBINCBaXCIgZmlsbD1cIiM5NEEzQjhcIiBzdHJva2U9XCIjMzM0MTU1XCIgc3Ryb2tlV2lkdGg9XCIyXCIgLz5cclxuICAgICAgPHJlY3QgeD1cIjdcIiB5PVwiMThcIiB3aWR0aD1cIjZcIiBoZWlnaHQ9XCI2XCIgZmlsbD1cIiNFNUU3RUJcIiBzdHJva2U9XCIjMzM0MTU1XCIgc3Ryb2tlV2lkdGg9XCIxLjVcIiAvPlxyXG4gICAgICA8cmVjdCB4PVwiMTlcIiB5PVwiMThcIiB3aWR0aD1cIjZcIiBoZWlnaHQ9XCI2XCIgZmlsbD1cIiNFNUU3RUJcIiBzdHJva2U9XCIjMzM0MTU1XCIgc3Ryb2tlV2lkdGg9XCIxLjVcIiAvPlxyXG4gICAgPC9zdmc+XHJcbiAgKVxyXG4gIGNvbnN0IFRydWNrSWNvbiA9ICgpID0+IChcclxuICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAzMiAzMlwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxyXG4gICAgICA8cmVjdCB4PVwiM1wiIHk9XCIxNFwiIHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCI4XCIgcng9XCIyXCIgZmlsbD1cIiM2MEE1RkFcIiBzdHJva2U9XCIjMUQ0RUQ4XCIgc3Ryb2tlV2lkdGg9XCIyXCIgLz5cclxuICAgICAgPHBhdGggZD1cIk0xNyAxNiBIMjUgTDI4IDE5IFYyMiBIMTcgWlwiIGZpbGw9XCIjM0I4MkY2XCIgc3Ryb2tlPVwiIzFENEVEOFwiIHN0cm9rZVdpZHRoPVwiMlwiIC8+XHJcbiAgICAgIDxjaXJjbGUgY3g9XCI5XCIgY3k9XCIyNFwiIHI9XCIzXCIgZmlsbD1cIiMwRUE1RTlcIiBzdHJva2U9XCIjMDc1OTg1XCIgc3Ryb2tlV2lkdGg9XCIyXCIgLz5cclxuICAgICAgPGNpcmNsZSBjeD1cIjIzXCIgY3k9XCIyNFwiIHI9XCIzXCIgZmlsbD1cIiMwRUE1RTlcIiBzdHJva2U9XCIjMDc1OTg1XCIgc3Ryb2tlV2lkdGg9XCIyXCIgLz5cclxuICAgIDwvc3ZnPlxyXG4gIClcclxuICBjb25zdCBQZXJzb25JY29uID0gKCkgPT4gKFxyXG4gICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDMyIDMyXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XHJcbiAgICAgIDxjaXJjbGUgY3g9XCIxNlwiIGN5PVwiMTFcIiByPVwiNVwiIGZpbGw9XCIjRjg3MTcxXCIgc3Ryb2tlPVwiIzdGMUQxRFwiIHN0cm9rZVdpZHRoPVwiMlwiIC8+XHJcbiAgICAgIDxwYXRoIGQ9XCJNOCAyNmMwLTQgMy41LTcgOC03czggMyA4IDdcIiBmaWxsPVwiI0ZDQTVBNVwiIHN0cm9rZT1cIiM3RjFEMURcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgLz5cclxuICAgIDwvc3ZnPlxyXG4gIClcclxuXHJcbiAgLy8gTG9naWNhbCB3YXlwb2ludHMgbm93IGNvbWUgZnJvbSBkeW5hbWljIGZlZWQgKGZhbGxiYWNrIHRvIHByb3ZpZGVkIHBhdGgpOiBwaWNrdXAgLT4gc29ydGF0aW9uIC0+IGRlbGl2ZXJ5IGh1YiAtPiByZWNpcGllbnRcclxuICBjb25zdCBvcmlnaW4gPSBlZmZlY3RpdmVQaWNrdXBcclxuICBjb25zdCBzb3J0YXRpb24gPSBlZmZlY3RpdmVTb3J0YXRpb25cclxuICBjb25zdCBodWIgPSBlZmZlY3RpdmVEZWxpdmVyeUh1YlxyXG5cclxuICAvLyBCdWlsZCBhIGJyZWFkY3J1bWIgcG9seWxpbmUgZnJvbSBhY3R1YWwgcmVjZWl2ZWQgcG9zaXRpb25zIChXUykgdG8gdmlzdWFsaXplIHRyYXZlbGVkIHBhdGguXHJcbiAgY29uc3QgW2JyZWFkY3J1bWJzLCBzZXRCcmVhZGNydW1ic10gPSB1c2VTdGF0ZTxMYXRMbmdbXT4oKCkgPT4gW29yaWdpbl0pXHJcbiAgY29uc3QgbGFzdEFkZGVkUmVmID0gdXNlUmVmPExhdExuZz4ob3JpZ2luKVxyXG4gIC8vIElmIHRoZSBvcmlnaW4gY2hhbmdlcyBkeW5hbWljYWxseSAoZmlyc3QgcGlja3VwIHVwZGF0ZSBhcnJpdmVzKSwgcmVzZXQgYnJlYWRjcnVtYnNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2V0QnJlYWRjcnVtYnMoW29yaWdpbl0pXHJcbiAgICBsYXN0QWRkZWRSZWYuY3VycmVudCA9IG9yaWdpblxyXG4gIH0sIFtvcmlnaW4ubGF0LCBvcmlnaW4ubG5nXSlcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFjb3VyaWVyKSByZXR1cm5cclxuICAgIGNvbnN0IGxhc3QgPSBsYXN0QWRkZWRSZWYuY3VycmVudFxyXG4gICAgY29uc3QgZGlzdCA9IGhhdmVyc2luZShsYXN0LCBjb3VyaWVyKVxyXG4gICAgLy8gT25seSBhcHBlbmQgaWYgbW92ZWQgPiA1IG1ldGVycyB0byByZWR1Y2Ugbm9pc2VcclxuICAgIGlmIChkaXN0ID4gNSkge1xyXG4gICAgICBzZXRCcmVhZGNydW1icyhwcmV2ID0+IFsuLi5wcmV2LCBjb3VyaWVyXSlcclxuICAgICAgbGFzdEFkZGVkUmVmLmN1cnJlbnQgPSBjb3VyaWVyXHJcbiAgICB9XHJcbiAgfSwgW2NvdXJpZXJdKVxyXG5cclxuICBjb25zdCBkaXN0YW5jZVRleHQgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGlmIChkaXN0YW5jZU1ldGVycyA9PT0gdW5kZWZpbmVkIHx8ICFpc0Zpbml0ZShkaXN0YW5jZU1ldGVycykpIHJldHVybiAnJ1xyXG4gICAgcmV0dXJuIGRpc3RhbmNlTWV0ZXJzID49IDEwMDBcclxuICAgICAgPyBgJHsoZGlzdGFuY2VNZXRlcnMgLyAxMDAwKS50b0ZpeGVkKDIpfSBrbSBhd2F5YFxyXG4gICAgICA6IGAke01hdGgucm91bmQoZGlzdGFuY2VNZXRlcnMpfSBtIGF3YXlgXHJcbiAgfSwgW2Rpc3RhbmNlTWV0ZXJzXSlcclxuXHJcbiAgLy8gV2F5cG9pbnQgYXJyaXZhbCAmIHN0YXR1cyBtZXNzYWdpbmcgKHRyYW5zaXRpb24tYmFzZWQpXHJcbiAgY29uc3Qgd2F5cG9pbnRIaXRSYWRpdXMgPSAzMCAvLyBtZXRlcnMgdGhyZXNob2xkXHJcbiAgY29uc3QgaXNBdFBpY2t1cCA9IHVzZU1lbW8oKCkgPT4gaGF2ZXJzaW5lKGNvdXJpZXIsIG9yaWdpbikgPD0gd2F5cG9pbnRIaXRSYWRpdXMsIFtjb3VyaWVyLCBvcmlnaW5dKVxyXG4gIGNvbnN0IGlzQXRTb3J0YXRpb24gPSB1c2VNZW1vKCgpID0+IHNvcnRhdGlvbiA/IGhhdmVyc2luZShjb3VyaWVyLCBzb3J0YXRpb24pIDw9IHdheXBvaW50SGl0UmFkaXVzIDogZmFsc2UsIFtjb3VyaWVyLCBzb3J0YXRpb25dKVxyXG4gIGNvbnN0IGlzQXRIdWIgPSB1c2VNZW1vKCgpID0+IGh1YiA/IGhhdmVyc2luZShjb3VyaWVyLCBodWIpIDw9IHdheXBvaW50SGl0UmFkaXVzIDogZmFsc2UsIFtjb3VyaWVyLCBodWJdKVxyXG5cclxuICBjb25zdCBbbGVnTXNnLCBzZXRMZWdNc2ddID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcclxuICBjb25zdCBbbGVnSWNvbiwgc2V0TGVnSWNvbl0gPSB1c2VTdGF0ZTwnd2FyZWhvdXNlJyB8ICd0cnVjaycgfCAncGVyc29uJyB8IG51bGw+KG51bGwpXHJcbiAgY29uc3QgW2xlZ1RpbWVzdGFtcCwgc2V0TGVnVGltZXN0YW1wXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpXHJcbiAgY29uc3QgW3NpbmNlQ2hhbmdlTXMsIHNldFNpbmNlQ2hhbmdlTXNdID0gdXNlU3RhdGU8bnVtYmVyPigwKVxyXG4gIGNvbnN0IHRpY2tSZWYgPSB1c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbClcclxuICBjb25zdCBwcmV2RmxhZ3NSZWYgPSB1c2VSZWYoeyBhdFBpY2t1cDogZmFsc2UsIGF0U29ydGF0aW9uOiBmYWxzZSwgYXRIdWI6IGZhbHNlLCBhcnJpdmVkOiBmYWxzZSB9KVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgcHJldiA9IHByZXZGbGFnc1JlZi5jdXJyZW50XHJcbiAgICBjb25zdCBsb2NhbGl6ZWQgPSB7XHJcbiAgICAgIHBpY2tlZFVwOiAnUGlja2VkIHVwIOKAkyBwYXJjZWwgaW4gdHJhbnNpdCcsXHJcbiAgICAgIGF0U29ydGF0aW9uOiAnUGFyY2VsIHJlY2VpdmVkIGF0IHNvcnRhdGlvbiBjZW50ZXInLFxyXG4gICAgICB0b0h1YjogJ09uIHRoZSB3YXkgdG8gRGVsaXZlcnkgSHViJyxcclxuICAgICAgYXRIdWI6ICdBcnJpdmVkIGF0IGRlbGl2ZXJ5IGh1YicsXHJcbiAgICAgIG91dEZvckRlbGl2ZXJ5OiAnT3V0IGZvciBkZWxpdmVyeScsXHJcbiAgICAgIGFycml2aW5nOiAnQXJyaXZpbmcgbm93JyxcclxuICAgICAgLi4uKG1lc3NhZ2VzIHx8IHt9KVxyXG4gICAgfVxyXG4gICAgY29uc3Qgc2V0U3RhdHVzID0gKG1zZzogc3RyaW5nLCBpY29uOiB0eXBlb2YgbGVnSWNvbikgPT4ge1xyXG4gICAgICBzZXRMZWdNc2cobXNnKVxyXG4gICAgICBzZXRMZWdJY29uKGljb24pXHJcbiAgICAgIHNldExlZ1RpbWVzdGFtcChEYXRlLm5vdygpKVxyXG4gICAgICBzZXRTaW5jZUNoYW5nZU1zKDApXHJcbiAgICB9XHJcbiAgICBpZiAoaXNBdFBpY2t1cCAmJiAhcHJldi5hdFBpY2t1cCkgc2V0U3RhdHVzKGxvY2FsaXplZC5waWNrZWRVcCwgJ3RydWNrJylcclxuICAgIGlmIChpc0F0U29ydGF0aW9uICYmICFwcmV2LmF0U29ydGF0aW9uKSBzZXRTdGF0dXMobG9jYWxpemVkLmF0U29ydGF0aW9uLCAnd2FyZWhvdXNlJylcclxuICAgIGlmICghaXNBdFNvcnRhdGlvbiAmJiBwcmV2LmF0U29ydGF0aW9uICYmICFpc0F0SHViICYmICFoYXNBcnJpdmVkKSBzZXRTdGF0dXMobG9jYWxpemVkLnRvSHViLCAndHJ1Y2snKVxyXG4gICAgaWYgKGlzQXRIdWIgJiYgIXByZXYuYXRIdWIpIHNldFN0YXR1cyhsb2NhbGl6ZWQuYXRIdWIsICd0cnVjaycpXHJcbiAgICBpZiAoIWlzQXRIdWIgJiYgcHJldi5hdEh1YiAmJiAhaGFzQXJyaXZlZCkgc2V0U3RhdHVzKGxvY2FsaXplZC5vdXRGb3JEZWxpdmVyeSwgJ3RydWNrJylcclxuICAgIGlmIChoYXNBcnJpdmVkICYmICFwcmV2LmFycml2ZWQpIHNldFN0YXR1cyhsb2NhbGl6ZWQuYXJyaXZpbmcsICdwZXJzb24nKVxyXG4gICAgcHJldkZsYWdzUmVmLmN1cnJlbnQgPSB7IGF0UGlja3VwOiBpc0F0UGlja3VwLCBhdFNvcnRhdGlvbjogaXNBdFNvcnRhdGlvbiwgYXRIdWI6IGlzQXRIdWIsIGFycml2ZWQ6IGhhc0Fycml2ZWQgfVxyXG4gIH0sIFtpc0F0UGlja3VwLCBpc0F0U29ydGF0aW9uLCBpc0F0SHViLCBoYXNBcnJpdmVkLCBtZXNzYWdlc10pXHJcblxyXG4gIC8vIEVsYXBzZWQgdGltZSBzaW5jZSBsYXN0IHN0YXR1cyBjaGFuZ2VcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFsZWdUaW1lc3RhbXApIHJldHVyblxyXG4gICAgY29uc3QgdGljayA9ICgpID0+IHtcclxuICAgICAgc2V0U2luY2VDaGFuZ2VNcyhEYXRlLm5vdygpIC0gbGVnVGltZXN0YW1wKVxyXG4gICAgICB0aWNrUmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCh0aWNrLCAxMDAwKVxyXG4gICAgfVxyXG4gICAgdGljaygpXHJcbiAgICByZXR1cm4gKCkgPT4geyBpZiAodGlja1JlZi5jdXJyZW50KSB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpY2tSZWYuY3VycmVudCkgfVxyXG4gIH0sIFtsZWdUaW1lc3RhbXBdKVxyXG5cclxuICAvLyBMZWcgcHJvZ3Jlc3MgcGVyY2VudGFnZVxyXG4gIGNvbnN0IGxlZ1Byb2dyZXNzUmF3ID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICAvLyBEZXRlcm1pbmUgY3VycmVudCBsZWcgc3RhcnQgJiBlbmRcclxuICAgIGlmICghY291cmllcikgcmV0dXJuIG51bGxcclxuICAgIGNvbnN0IGxlZ3M6IHsgc3RhcnQ/OiBMYXRMbmc7IGVuZD86IExhdExuZzsgbGFiZWw6IHN0cmluZyB9W10gPSBbXHJcbiAgICAgIHsgc3RhcnQ6IG9yaWdpbiwgZW5kOiBzb3J0YXRpb24sIGxhYmVsOiAndG8tc29ydGF0aW9uJyB9LFxyXG4gICAgICB7IHN0YXJ0OiBzb3J0YXRpb24sIGVuZDogaHViLCBsYWJlbDogJ3RvLWh1YicgfSxcclxuICAgICAgeyBzdGFydDogaHViLCBlbmQ6IGVmZmVjdGl2ZVJlY2lwaWVudCwgbGFiZWw6ICd0by1yZWNpcGllbnQnIH0sXHJcbiAgICBdXHJcbiAgICBmb3IgKGNvbnN0IGxlZyBvZiBsZWdzKSB7XHJcbiAgICAgIGlmICghbGVnLnN0YXJ0IHx8ICFsZWcuZW5kKSBjb250aW51ZVxyXG4gICAgICBjb25zdCB0b3RhbCA9IGhhdmVyc2luZShsZWcuc3RhcnQsIGxlZy5lbmQpXHJcbiAgICAgIGlmICh0b3RhbCA9PT0gMCkgY29udGludWVcclxuICAgICAgLy8gSWYgY291cmllciBpcyB3aXRoaW4gcmFkaXVzIG9mIGVuZCwgdHJlYXQgYXMgMTAwJVxyXG4gICAgICBpZiAoaGF2ZXJzaW5lKGNvdXJpZXIsIGxlZy5lbmQpIDw9IHdheXBvaW50SGl0UmFkaXVzKSByZXR1cm4geyBwY3Q6IDEsIGxhYmVsOiBsZWcubGFiZWwgfVxyXG4gICAgICAvLyBDaGVjayBpZiBjb3VyaWVyIGlzIGJldHdlZW4gc3RhcnQgYW5kIGVuZCB1c2luZyBwcm9qZWN0aW9uIGhldXJpc3RpYyAoc3VtIGRpc3RhbmNlcyB2cyB0b3RhbClcclxuICAgICAgY29uc3QgZGlzdFN0YXJ0ID0gaGF2ZXJzaW5lKGxlZy5zdGFydCwgY291cmllcilcclxuICAgICAgY29uc3QgZGlzdEVuZCA9IGhhdmVyc2luZShjb3VyaWVyLCBsZWcuZW5kKVxyXG4gICAgICBpZiAoZGlzdFN0YXJ0IDwgdG90YWwgJiYgZGlzdEVuZCA8IHRvdGFsICYmIGRpc3RTdGFydCArIGRpc3RFbmQgPD0gdG90YWwgKiAxLjI1KSB7XHJcbiAgICAgICAgY29uc3QgcGN0ID0gTWF0aC5taW4oMSwgTWF0aC5tYXgoMCwgZGlzdFN0YXJ0IC8gdG90YWwpKVxyXG4gICAgICAgIHJldHVybiB7IHBjdCwgbGFiZWw6IGxlZy5sYWJlbCB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsXHJcbiAgfSwgW2NvdXJpZXIsIG9yaWdpbiwgc29ydGF0aW9uLCBodWIsIGVmZmVjdGl2ZVJlY2lwaWVudF0pXHJcblxyXG4gIC8vIE1vdmluZyBhdmVyYWdlIHNtb290aGluZyB3aW5kb3dcclxuICBjb25zdCBwcm9ncmVzc1dpbmRvd1JlZiA9IHVzZVJlZjxudW1iZXJbXT4oW10pXHJcbiAgY29uc3QgbGVnUHJvZ3Jlc3MgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGlmICghbGVnUHJvZ3Jlc3NSYXcpIHtcclxuICAgICAgcHJvZ3Jlc3NXaW5kb3dSZWYuY3VycmVudCA9IFtdXHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgICBwcm9ncmVzc1dpbmRvd1JlZi5jdXJyZW50LnB1c2gobGVnUHJvZ3Jlc3NSYXcucGN0KVxyXG4gICAgaWYgKHByb2dyZXNzV2luZG93UmVmLmN1cnJlbnQubGVuZ3RoID4gMTApIHByb2dyZXNzV2luZG93UmVmLmN1cnJlbnQuc2hpZnQoKVxyXG4gICAgY29uc3QgYXZnID0gcHJvZ3Jlc3NXaW5kb3dSZWYuY3VycmVudC5yZWR1Y2UoKHMsIHYpID0+IHMgKyB2LCAwKSAvIHByb2dyZXNzV2luZG93UmVmLmN1cnJlbnQubGVuZ3RoXHJcbiAgICByZXR1cm4geyBwY3Q6IGF2ZywgbGFiZWw6IGxlZ1Byb2dyZXNzUmF3LmxhYmVsIH1cclxuICB9LCBbbGVnUHJvZ3Jlc3NSYXddKVxyXG5cclxuICAvLyBFbWl0IHByb2dyZXNzIGNhbGxiYWNrXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChvblByb2dyZXNzKSB7XHJcbiAgICAgIG9uUHJvZ3Jlc3MoeyBwaGFzZTogbGVnUHJvZ3Jlc3M/LmxhYmVsIHx8IChoYXNBcnJpdmVkID8gJ3JlY2lwaWVudCcgOiAndW5rbm93bicpLCBwcm9ncmVzc1BjdDogbGVnUHJvZ3Jlc3MgPyBsZWdQcm9ncmVzcy5wY3QgOiBudWxsIH0pXHJcbiAgICB9XHJcbiAgfSwgW2xlZ1Byb2dyZXNzLCBvblByb2dyZXNzLCBoYXNBcnJpdmVkXSlcclxuXHJcbiAgY29uc3QgcHJldHR5VGltZXN0YW1wID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoIWxlZ1RpbWVzdGFtcCkgcmV0dXJuICcnXHJcbiAgICBjb25zdCBkID0gbmV3IERhdGUobGVnVGltZXN0YW1wKVxyXG4gICAgcmV0dXJuIGQudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcsIHNlY29uZDogJzItZGlnaXQnIH0pXHJcbiAgfSwgW2xlZ1RpbWVzdGFtcF0pXHJcblxyXG4gIGNvbnN0IGVsYXBzZWRQcmV0dHkgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGlmICghbGVnVGltZXN0YW1wKSByZXR1cm4gJydcclxuICAgIGNvbnN0IHRvdGFsU2VjID0gTWF0aC5mbG9vcihzaW5jZUNoYW5nZU1zIC8gMTAwMClcclxuICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKHRvdGFsU2VjIC8gNjApXHJcbiAgICBjb25zdCBzID0gdG90YWxTZWMgJSA2MFxyXG4gICAgcmV0dXJuIGAoKyR7bX1tJHtzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwnMCcpfXMpYFxyXG4gIH0sIFtzaW5jZUNoYW5nZU1zLCBsZWdUaW1lc3RhbXBdKVxyXG5cclxuICBjb25zdCBwaGFzZUNvbG9yID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoIWxlZ01zZykgcmV0dXJuICdiZy1zbGF0ZS04MDAvOTUnXHJcbiAgICBpZiAobGVnTXNnLmluY2x1ZGVzKCdzb3J0YXRpb24nKSkgcmV0dXJuICdiZy1pbmRpZ28tNzAwLzk1J1xyXG4gICAgaWYgKGxlZ01zZy5pbmNsdWRlcygnRGVsaXZlcnkgSHViJykpIHJldHVybiAnYmctYmx1ZS03MDAvOTUnXHJcbiAgICBpZiAobGVnTXNnLmluY2x1ZGVzKCdPdXQgZm9yIGRlbGl2ZXJ5JykpIHJldHVybiAnYmctYW1iZXItNjAwLzk1J1xyXG4gICAgaWYgKGxlZ01zZy5pbmNsdWRlcygnQXJyaXZpbmcgbm93JykpIHJldHVybiAnYmctZW1lcmFsZC03MDAvOTUnXHJcbiAgICBpZiAobGVnTXNnLmluY2x1ZGVzKCdQaWNrZWQgdXAnKSkgcmV0dXJuICdiZy1za3ktNzAwLzk1J1xyXG4gICAgcmV0dXJuICdiZy1zbGF0ZS04MDAvOTUnXHJcbiAgfSwgW2xlZ01zZ10pXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGgtZnVsbCB3LWZ1bGxcIj5cclxuICAgICAgPEdvb2dsZU1hcFxyXG4gICAgICAgIGNlbnRlcj17Y2VudGVyfVxyXG4gICAgICAgIHBhdGg9e2JyZWFkY3J1bWJzfVxyXG4gICAgICAgIHJlY2lwaWVudD17ZWZmZWN0aXZlUmVjaXBpZW50fVxyXG4gICAgICAgIGNvdXJpZXI9e2NvdXJpZXJ9XHJcbiAgICAgICAgc29ydGF0aW9uPXtzb3J0YXRpb259XHJcbiAgICAgICAgaHViPXtodWJ9XHJcbiAgICAgIC8+XHJcbiAgICAgIHtsZWdNc2cgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSBsZWZ0LTAgcmlnaHQtMCB0b3AtMCB6LTEwXCIgcm9sZT1cInN0YXR1c1wiIGFyaWEtbGl2ZT1cInBvbGl0ZVwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BteC1hdXRvIG1heC13LXhsIHJvdW5kZWQtYi1sZyAke3BoYXNlQ29sb3J9IHB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS0xMDAgc2hhZG93LWxnIHRyYW5zaXRpb24tY29sb3JzYH0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZmxleC13cmFwXCI+XHJcbiAgICAgICAgICAgICAge2xlZ0ljb24gPT09ICd3YXJlaG91c2UnICYmIDxXYXJlaG91c2VJY29uIC8+fVxyXG4gICAgICAgICAgICAgIHtsZWdJY29uID09PSAndHJ1Y2snICYmIDxUcnVja0ljb24gLz59XHJcbiAgICAgICAgICAgICAge2xlZ0ljb24gPT09ICdwZXJzb24nICYmIDxQZXJzb25JY29uIC8+fVxyXG4gICAgICAgICAgICAgIDxzcGFuPntsZWdNc2d9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIHtwcmV0dHlUaW1lc3RhbXAgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW5vcm1hbCB0ZXh0LXNsYXRlLTIwMFwiPkAge3ByZXR0eVRpbWVzdGFtcH08L3NwYW4+fVxyXG4gICAgICAgICAgICAgIHtlbGFwc2VkUHJldHR5ICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS0zMDBcIj57ZWxhcHNlZFByZXR0eX08L3NwYW4+fVxyXG4gICAgICAgICAgICAgIHtsZWdQcm9ncmVzcyAmJiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC1hdXRvIHRleHQteHMgZm9udC1tZWRpdW0gdHJhY2tpbmctd2lkZSB0ZXh0LXNsYXRlLTMwMFwiPlxyXG4gICAgICAgICAgICAgICAgICB7bGVnUHJvZ3Jlc3MubGFiZWwucmVwbGFjZSgndG8tJywnJyl9OiB7KGxlZ1Byb2dyZXNzLnBjdCAqIDEwMCkudG9GaXhlZCgwKX0lXHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgICAgeyhpc05lYXJieSB8fCBoYXNBcnJpdmVkKSAmJiAoXHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgY2xhc3NOYW1lPXtgcG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSB0b3AtMyByaWdodC0zIHotMTAgcm91bmRlZC1sZyBweC00IHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgc2hhZG93LWxnICR7aGFzQXJyaXZlZCA/ICdiZy1lbWVyYWxkLTYwMC85NScgOiAnYmctYW1iZXItNTAwLzk1J31gfVxyXG4gICAgICAgICAgcm9sZT1cInN0YXR1c1wiXHJcbiAgICAgICAgICBhcmlhLWxpdmU9XCJwb2xpdGVcIlxyXG4gICAgICAgID5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgICAgey8qIFJlbW92ZWQgaW50ZXJwb2xhdGlvbi1iYXNlZCByZW1haW5pbmcvRVRBIHBhbmVsIChTU0UgcmVtb3ZlZCkgKi99XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuIl0sIm5hbWVzIjpbIkdvb2dsZU1hcCIsInVzZUNvdXJpZXJXUyIsImhhdmVyc2luZSIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkxpdmVNYXAiLCJjZW50ZXIiLCJwYXRoIiwicmVjaXBpZW50Iiwib25Qcm9ncmVzcyIsIm1lc3NhZ2VzIiwid3NQb3MiLCJkeW5hbWljUmVjaXBpZW50IiwicGlja3VwIiwic29ydGF0aW9uIiwiZHluU29ydGF0aW9uIiwiZGVsaXZlcnkiLCJlZmZlY3RpdmVSZWNpcGllbnQiLCJsYXQiLCJsbmciLCJlZmZlY3RpdmVQaWNrdXAiLCJlZmZlY3RpdmVTb3J0YXRpb24iLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJlZmZlY3RpdmVEZWxpdmVyeUh1YiIsImNvdXJpZXIiLCJpc05lYXJieSIsImhhc0Fycml2ZWQiLCJkaXN0YW5jZU1ldGVycyIsIkluZmluaXR5IiwiZCIsImF1ZGlvQ3R4UmVmIiwid2FzQXJyaXZlZFJlZiIsImN1cnJlbnQiLCJDdHgiLCJ3aW5kb3ciLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJvbkZpcnN0SW50ZXJhY3QiLCJjdHgiLCJzdGF0ZSIsInJlc3VtZSIsImNhdGNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmluZ0Rvb3JiZWxsIiwibm93IiwiY3VycmVudFRpbWUiLCJtYWtlIiwiZnJlcSIsInN0YXJ0IiwiZHVyIiwiZ2FpbiIsIm9zYyIsImNyZWF0ZU9zY2lsbGF0b3IiLCJnIiwiY3JlYXRlR2FpbiIsInR5cGUiLCJmcmVxdWVuY3kiLCJ2YWx1ZSIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsInNldFZhbHVlQXRUaW1lIiwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWUiLCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lIiwic3RvcCIsIldhcmVob3VzZUljb24iLCJzdmciLCJ3aWR0aCIsImhlaWdodCIsInZpZXdCb3giLCJhcmlhLWhpZGRlbiIsImZpbGwiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInJlY3QiLCJ4IiwieSIsIlRydWNrSWNvbiIsInJ4IiwiY2lyY2xlIiwiY3giLCJjeSIsInIiLCJQZXJzb25JY29uIiwic3Ryb2tlTGluZWpvaW4iLCJvcmlnaW4iLCJodWIiLCJicmVhZGNydW1icyIsInNldEJyZWFkY3J1bWJzIiwibGFzdEFkZGVkUmVmIiwibGFzdCIsImRpc3QiLCJwcmV2IiwiZGlzdGFuY2VUZXh0IiwiaXNGaW5pdGUiLCJ0b0ZpeGVkIiwiTWF0aCIsInJvdW5kIiwid2F5cG9pbnRIaXRSYWRpdXMiLCJpc0F0UGlja3VwIiwiaXNBdFNvcnRhdGlvbiIsImlzQXRIdWIiLCJsZWdNc2ciLCJzZXRMZWdNc2ciLCJsZWdJY29uIiwic2V0TGVnSWNvbiIsImxlZ1RpbWVzdGFtcCIsInNldExlZ1RpbWVzdGFtcCIsInNpbmNlQ2hhbmdlTXMiLCJzZXRTaW5jZUNoYW5nZU1zIiwidGlja1JlZiIsInByZXZGbGFnc1JlZiIsImF0UGlja3VwIiwiYXRTb3J0YXRpb24iLCJhdEh1YiIsImFycml2ZWQiLCJsb2NhbGl6ZWQiLCJwaWNrZWRVcCIsInRvSHViIiwib3V0Rm9yRGVsaXZlcnkiLCJhcnJpdmluZyIsInNldFN0YXR1cyIsIm1zZyIsImljb24iLCJEYXRlIiwidGljayIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJsZWdQcm9ncmVzc1JhdyIsImxlZ3MiLCJlbmQiLCJsYWJlbCIsImxlZyIsInRvdGFsIiwicGN0IiwiZGlzdFN0YXJ0IiwiZGlzdEVuZCIsIm1pbiIsIm1heCIsInByb2dyZXNzV2luZG93UmVmIiwibGVnUHJvZ3Jlc3MiLCJwdXNoIiwic2hpZnQiLCJhdmciLCJyZWR1Y2UiLCJzIiwidiIsInBoYXNlIiwicHJvZ3Jlc3NQY3QiLCJwcmV0dHlUaW1lc3RhbXAiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwiZWxhcHNlZFByZXR0eSIsInRvdGFsU2VjIiwiZmxvb3IiLCJtIiwidG9TdHJpbmciLCJwYWRTdGFydCIsInBoYXNlQ29sb3IiLCJpbmNsdWRlcyIsImRpdiIsImNsYXNzTmFtZSIsInJvbGUiLCJhcmlhLWxpdmUiLCJzcGFuIiwicmVwbGFjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/LiveMap.tsx\n"));

/***/ })

});