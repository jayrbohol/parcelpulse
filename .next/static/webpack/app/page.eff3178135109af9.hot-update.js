"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/LiveMap.tsx":
/*!********************************!*\
  !*** ./components/LiveMap.tsx ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ LiveMap; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _GoogleMap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GoogleMap */ \"(app-pages-browser)/./components/GoogleMap.tsx\");\n/* harmony import */ var _hooks_useCourierWS__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/hooks/useCourierWS */ \"(app-pages-browser)/./hooks/useCourierWS.ts\");\n/* harmony import */ var _lib_geo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/geo */ \"(app-pages-browser)/./lib/geo.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction LiveMap(param) {\n    let { center, path, recipient, onProgress, messages } = param;\n    _s();\n    // WebSocket-provided positions: courier + dynamic nodes\n    const { wsPos, recipient: dynamicRecipient, pickup, sortation: dynSortation, delivery } = (0,_hooks_useCourierWS__WEBPACK_IMPORTED_MODULE_2__.useCourierWS)();\n    const effectiveRecipient = dynamicRecipient ? {\n        lat: dynamicRecipient.lat,\n        lng: dynamicRecipient.lng\n    } : recipient;\n    const effectivePickup = pickup ? {\n        lat: pickup.lat,\n        lng: pickup.lng\n    } : path[0];\n    const effectiveSortation = dynSortation ? {\n        lat: dynSortation.lat,\n        lng: dynSortation.lng\n    } : path.length >= 2 ? path[1] : undefined;\n    const effectiveDeliveryHub = delivery ? {\n        lat: delivery.lat,\n        lng: delivery.lng\n    } : path.length >= 3 ? path[2] : undefined;\n    const courier = wsPos ? {\n        lat: wsPos.lat,\n        lng: wsPos.lng\n    } : effectivePickup;\n    const { isNearby, hasArrived, distanceMeters } = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        if (!courier || !effectiveRecipient) return {\n            isNearby: false,\n            hasArrived: false,\n            distanceMeters: Infinity\n        };\n        const d = (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(courier, effectiveRecipient) // meters\n        ;\n        return {\n            distanceMeters: d,\n            isNearby: d < 1000,\n            hasArrived: d < 100\n        };\n    }, [\n        courier,\n        effectiveRecipient\n    ]);\n    // Doorbell sound when entering proximity\n    const audioCtxRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n    const wasArrivedRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        // Initialize lazily to avoid SSR issues and create only on client\n        if (!audioCtxRef.current) {\n            try {\n                // @ts-ignore - webkit prefix for older Safari\n                const Ctx = window.AudioContext || window.webkitAudioContext;\n                audioCtxRef.current = new Ctx();\n            } catch (e) {\n                audioCtxRef.current = null;\n            }\n        }\n        // Attempt to auto-resume on first user interaction (mobile browsers)\n        const onFirstInteract = ()=>{\n            const ctx = audioCtxRef.current;\n            if (ctx && ctx.state === \"suspended\") ctx.resume().catch(()=>{});\n        };\n        window.addEventListener(\"pointerdown\", onFirstInteract, {\n            once: true\n        });\n        return ()=>window.removeEventListener(\"pointerdown\", onFirstInteract);\n    }, []);\n    const ringDoorbell = ()=>{\n        const ctx = audioCtxRef.current;\n        if (!ctx) return;\n        const now = ctx.currentTime;\n        const make = function(freq, start, dur) {\n            let gain = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0.08;\n            const osc = ctx.createOscillator();\n            const g = ctx.createGain();\n            osc.type = \"sine\";\n            osc.frequency.value = freq;\n            osc.connect(g);\n            g.connect(ctx.destination);\n            // simple envelope for subtle chime\n            g.gain.setValueAtTime(0, start);\n            g.gain.linearRampToValueAtTime(gain, start + 0.02);\n            g.gain.exponentialRampToValueAtTime(0.0001, start + dur);\n            osc.start(start);\n            osc.stop(start + dur + 0.02);\n        };\n        // Two-tone soft doorbell\n        make(880, now, 0.18) // A5\n        ;\n        make(1318.51, now + 0.12, 0.22) // E6\n        ;\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        if (hasArrived && !wasArrivedRef.current) {\n            ringDoorbell();\n        }\n        wasArrivedRef.current = hasArrived;\n    }, [\n        hasArrived\n    ]);\n    // Small inline SVG icons to match marker semantics\n    const WarehouseIcon = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 32 32\",\n            \"aria-hidden\": \"true\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                    d: \"M4 14 L16 6 L28 14 V26 H4 Z\",\n                    fill: \"#94A3B8\",\n                    stroke: \"#334155\",\n                    strokeWidth: \"2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 93,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                    x: \"7\",\n                    y: \"18\",\n                    width: \"6\",\n                    height: \"6\",\n                    fill: \"#E5E7EB\",\n                    stroke: \"#334155\",\n                    strokeWidth: \"1.5\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 94,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                    x: \"19\",\n                    y: \"18\",\n                    width: \"6\",\n                    height: \"6\",\n                    fill: \"#E5E7EB\",\n                    stroke: \"#334155\",\n                    strokeWidth: \"1.5\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 95,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n            lineNumber: 92,\n            columnNumber: 5\n        }, this);\n    const TruckIcon = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 32 32\",\n            \"aria-hidden\": \"true\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                    x: \"3\",\n                    y: \"14\",\n                    width: \"14\",\n                    height: \"8\",\n                    rx: \"2\",\n                    fill: \"#60A5FA\",\n                    stroke: \"#1D4ED8\",\n                    strokeWidth: \"2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 100,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                    d: \"M17 16 H25 L28 19 V22 H17 Z\",\n                    fill: \"#3B82F6\",\n                    stroke: \"#1D4ED8\",\n                    strokeWidth: \"2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 101,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                    cx: \"9\",\n                    cy: \"24\",\n                    r: \"3\",\n                    fill: \"#0EA5E9\",\n                    stroke: \"#075985\",\n                    strokeWidth: \"2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 102,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                    cx: \"23\",\n                    cy: \"24\",\n                    r: \"3\",\n                    fill: \"#0EA5E9\",\n                    stroke: \"#075985\",\n                    strokeWidth: \"2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 103,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n            lineNumber: 99,\n            columnNumber: 5\n        }, this);\n    const PersonIcon = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 32 32\",\n            \"aria-hidden\": \"true\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                    cx: \"16\",\n                    cy: \"11\",\n                    r: \"5\",\n                    fill: \"#F87171\",\n                    stroke: \"#7F1D1D\",\n                    strokeWidth: \"2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 108,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                    d: \"M8 26c0-4 3.5-7 8-7s8 3 8 7\",\n                    fill: \"#FCA5A5\",\n                    stroke: \"#7F1D1D\",\n                    strokeWidth: \"2\",\n                    strokeLinejoin: \"round\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 109,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n            lineNumber: 107,\n            columnNumber: 5\n        }, this);\n    // Logical waypoints now come from dynamic feed (fallback to provided path): pickup -> sortation -> delivery hub -> recipient\n    const origin = effectivePickup;\n    const sortation = effectiveSortation;\n    const hub = effectiveDeliveryHub;\n    // Build a breadcrumb polyline from actual received positions (WS) to visualize traveled path.\n    const [breadcrumbs, setBreadcrumbs] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(()=>[\n            origin\n        ]);\n    const lastAddedRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(origin);\n    // If the origin changes dynamically (first pickup update arrives), reset breadcrumbs\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        setBreadcrumbs([\n            origin\n        ]);\n        lastAddedRef.current = origin;\n    }, [\n        origin.lat,\n        origin.lng\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        if (!courier) return;\n        const last = lastAddedRef.current;\n        const dist = (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(last, courier);\n        // Only append if moved > 5 meters to reduce noise\n        if (dist > 5) {\n            setBreadcrumbs((prev)=>[\n                    ...prev,\n                    courier\n                ]);\n            lastAddedRef.current = courier;\n        }\n    }, [\n        courier\n    ]);\n    const distanceText = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        if (distanceMeters === undefined || !isFinite(distanceMeters)) return \"\";\n        return distanceMeters >= 1000 ? \"\".concat((distanceMeters / 1000).toFixed(2), \" km away\") : \"\".concat(Math.round(distanceMeters), \" m away\");\n    }, [\n        distanceMeters\n    ]);\n    // Waypoint arrival & status messaging (transition-based)\n    const waypointHitRadius = 30 // meters threshold\n    ;\n    const isAtPickup = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>(0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(courier, origin) <= waypointHitRadius, [\n        courier,\n        origin\n    ]);\n    const isAtSortation = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>sortation ? (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(courier, sortation) <= waypointHitRadius : false, [\n        courier,\n        sortation\n    ]);\n    const isAtHub = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>hub ? (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(courier, hub) <= waypointHitRadius : false, [\n        courier,\n        hub\n    ]);\n    const [legMsg, setLegMsg] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(null);\n    const [legIcon, setLegIcon] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(null);\n    const [legTimestamp, setLegTimestamp] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(null);\n    const [sinceChangeMs, setSinceChangeMs] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(0);\n    const tickRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);\n    const prevFlagsRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)({\n        atPickup: false,\n        atSortation: false,\n        atHub: false,\n        arrived: false\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        const prev = prevFlagsRef.current;\n        const localized = {\n            pickedUp: \"Picked up – parcel in transit\",\n            atSortation: \"Parcel received at sortation center\",\n            toHub: \"On the way to Delivery Hub\",\n            atHub: \"Arrived at delivery hub\",\n            outForDelivery: \"Out for delivery\",\n            arriving: \"Arriving now\",\n            ...messages || {}\n        };\n        const setStatus = (msg, icon)=>{\n            setLegMsg(msg);\n            setLegIcon(icon);\n            setLegTimestamp(Date.now());\n            setSinceChangeMs(0);\n        };\n        if (isAtPickup && !prev.atPickup) setStatus(localized.pickedUp, \"truck\");\n        if (isAtSortation && !prev.atSortation) setStatus(localized.atSortation, \"warehouse\");\n        if (!isAtSortation && prev.atSortation && !isAtHub && !hasArrived) setStatus(localized.toHub, \"truck\");\n        if (isAtHub && !prev.atHub) setStatus(localized.atHub, \"truck\");\n        if (!isAtHub && prev.atHub && !hasArrived) setStatus(localized.outForDelivery, \"truck\");\n        if (hasArrived && !prev.arrived) setStatus(localized.arriving, \"person\");\n        prevFlagsRef.current = {\n            atPickup: isAtPickup,\n            atSortation: isAtSortation,\n            atHub: isAtHub,\n            arrived: hasArrived\n        };\n    }, [\n        isAtPickup,\n        isAtSortation,\n        isAtHub,\n        hasArrived,\n        messages\n    ]);\n    // Elapsed time since last status change\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        if (!legTimestamp) return;\n        const tick = ()=>{\n            setSinceChangeMs(Date.now() - legTimestamp);\n            tickRef.current = window.setTimeout(tick, 1000);\n        };\n        tick();\n        return ()=>{\n            if (tickRef.current) window.clearTimeout(tickRef.current);\n        };\n    }, [\n        legTimestamp\n    ]);\n    // Leg progress percentage\n    const legProgressRaw = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        // Determine current leg start & end\n        if (!courier) return null;\n        const legs = [\n            {\n                start: origin,\n                end: sortation,\n                label: \"to-sortation\"\n            },\n            {\n                start: sortation,\n                end: hub,\n                label: \"to-hub\"\n            },\n            {\n                start: hub,\n                end: effectiveRecipient,\n                label: \"to-recipient\"\n            }\n        ];\n        for (const leg of legs){\n            if (!leg.start || !leg.end) continue;\n            const total = (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(leg.start, leg.end);\n            if (total === 0) continue;\n            // If courier is within radius of end, treat as 100%\n            if ((0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(courier, leg.end) <= waypointHitRadius) return {\n                pct: 1,\n                label: leg.label\n            };\n            // Check if courier is between start and end using projection heuristic (sum distances vs total)\n            const distStart = (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(leg.start, courier);\n            const distEnd = (0,_lib_geo__WEBPACK_IMPORTED_MODULE_3__.haversine)(courier, leg.end);\n            if (distStart < total && distEnd < total && distStart + distEnd <= total * 1.25) {\n                const pct = Math.min(1, Math.max(0, distStart / total));\n                return {\n                    pct,\n                    label: leg.label\n                };\n            }\n        }\n        return null;\n    }, [\n        courier,\n        origin,\n        sortation,\n        hub,\n        effectiveRecipient\n    ]);\n    // Moving average smoothing window\n    const progressWindowRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)([]);\n    const legProgress = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        if (!legProgressRaw) {\n            progressWindowRef.current = [];\n            return null;\n        }\n        progressWindowRef.current.push(legProgressRaw.pct);\n        if (progressWindowRef.current.length > 10) progressWindowRef.current.shift();\n        const avg = progressWindowRef.current.reduce((s, v)=>s + v, 0) / progressWindowRef.current.length;\n        return {\n            pct: avg,\n            label: legProgressRaw.label\n        };\n    }, [\n        legProgressRaw\n    ]);\n    // Emit progress callback\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        if (onProgress) {\n            onProgress({\n                phase: (legProgress === null || legProgress === void 0 ? void 0 : legProgress.label) || (hasArrived ? \"recipient\" : \"unknown\"),\n                progressPct: legProgress ? legProgress.pct : null\n            });\n        }\n    }, [\n        legProgress,\n        onProgress,\n        hasArrived\n    ]);\n    const prettyTimestamp = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        if (!legTimestamp) return \"\";\n        const d = new Date(legTimestamp);\n        return d.toLocaleTimeString([], {\n            hour: \"2-digit\",\n            minute: \"2-digit\",\n            second: \"2-digit\"\n        });\n    }, [\n        legTimestamp\n    ]);\n    const elapsedPretty = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        if (!legTimestamp) return \"\";\n        const totalSec = Math.floor(sinceChangeMs / 1000);\n        const m = Math.floor(totalSec / 60);\n        const s = totalSec % 60;\n        return \"(+\".concat(m, \"m\").concat(s.toString().padStart(2, \"0\"), \"s)\");\n    }, [\n        sinceChangeMs,\n        legTimestamp\n    ]);\n    const phaseColor = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(()=>{\n        if (!legMsg) return \"bg-slate-800/95\";\n        if (legMsg.includes(\"sortation\")) return \"bg-indigo-700/95\";\n        if (legMsg.includes(\"Delivery Hub\")) return \"bg-blue-700/95\";\n        if (legMsg.includes(\"Out for delivery\")) return \"bg-amber-600/95\";\n        if (legMsg.includes(\"Arriving now\")) return \"bg-emerald-700/95\";\n        if (legMsg.includes(\"Picked up\")) return \"bg-sky-700/95\";\n        return \"bg-slate-800/95\";\n    }, [\n        legMsg\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative h-full w-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_GoogleMap__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                center: center,\n                path: breadcrumbs,\n                recipient: effectiveRecipient,\n                courier: courier,\n                sortation: sortation,\n                hub: hub\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                lineNumber: 266,\n                columnNumber: 7\n            }, this),\n            legMsg && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"pointer-events-none absolute left-0 right-0 top-0 z-10\",\n                role: \"status\",\n                \"aria-live\": \"polite\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mx-auto max-w-xl rounded-b-lg \".concat(phaseColor, \" px-4 py-2 text-sm font-semibold text-slate-100 shadow-lg transition-colors\"),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2 flex-wrap\",\n                        children: [\n                            legIcon === \"warehouse\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(WarehouseIcon, {}, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 278,\n                                columnNumber: 43\n                            }, this),\n                            legIcon === \"truck\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TruckIcon, {}, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 279,\n                                columnNumber: 39\n                            }, this),\n                            legIcon === \"person\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PersonIcon, {}, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 280,\n                                columnNumber: 40\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: legMsg\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 281,\n                                columnNumber: 15\n                            }, this),\n                            prettyTimestamp && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs font-normal text-slate-200\",\n                                children: [\n                                    \"@ \",\n                                    prettyTimestamp\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 282,\n                                columnNumber: 35\n                            }, this),\n                            elapsedPretty && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs font-medium text-slate-300\",\n                                children: elapsedPretty\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 283,\n                                columnNumber: 33\n                            }, this),\n                            legProgress && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-auto text-xs font-medium tracking-wide text-slate-300\",\n                                children: [\n                                    legProgress.label.replace(\"to-\", \"\"),\n                                    \": \",\n                                    (legProgress.pct * 100).toFixed(0),\n                                    \"%\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                        lineNumber: 277,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                    lineNumber: 276,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                lineNumber: 275,\n                columnNumber: 9\n            }, this),\n            (isNearby || hasArrived) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"pointer-events-none absolute top-3 right-3 z-10 rounded-lg px-4 py-2 text-sm font-semibold text-white shadow-lg \".concat(hasArrived ? \"bg-emerald-600/95\" : \"bg-amber-500/95\"),\n                role: \"status\",\n                \"aria-live\": \"polite\",\n                children: [\n                    hasArrived ? \"package has arrived\" : \"package is nearby\",\n                    distanceText ? \" — \".concat(distanceText) : \"\"\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n                lineNumber: 294,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\parcelpulse\\\\components\\\\LiveMap.tsx\",\n        lineNumber: 265,\n        columnNumber: 5\n    }, this);\n}\n_s(LiveMap, \"W/0BFcEQfhHnHbLmmeoxpTU3mN0=\", false, function() {\n    return [\n        _hooks_useCourierWS__WEBPACK_IMPORTED_MODULE_2__.useCourierWS\n    ];\n});\n_c = LiveMap;\nvar _c;\n$RefreshReg$(_c, \"LiveMap\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvTGl2ZU1hcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRW1DO0FBQ2dCO0FBRWQ7QUFDdUI7QUFVN0MsU0FBU08sUUFBUSxLQUF3RDtRQUF4RCxFQUFFQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsU0FBUyxFQUFFQyxVQUFVLEVBQUVDLFFBQVEsRUFBUyxHQUF4RDs7SUFDOUIsd0RBQXdEO0lBQ3hELE1BQU0sRUFBRUMsS0FBSyxFQUFFSCxXQUFXSSxnQkFBZ0IsRUFBRUMsTUFBTSxFQUFFQyxXQUFXQyxZQUFZLEVBQUVDLFFBQVEsRUFBRSxHQUFHakIsaUVBQVlBO0lBQ3RHLE1BQU1rQixxQkFBcUJMLG1CQUFtQjtRQUFFTSxLQUFLTixpQkFBaUJNLEdBQUc7UUFBRUMsS0FBS1AsaUJBQWlCTyxHQUFHO0lBQUMsSUFBSVg7SUFDekcsTUFBTVksa0JBQWtCUCxTQUFTO1FBQUVLLEtBQUtMLE9BQU9LLEdBQUc7UUFBRUMsS0FBS04sT0FBT00sR0FBRztJQUFDLElBQUlaLElBQUksQ0FBQyxFQUFFO0lBQy9FLE1BQU1jLHFCQUFxQk4sZUFBZTtRQUFFRyxLQUFLSCxhQUFhRyxHQUFHO1FBQUVDLEtBQUtKLGFBQWFJLEdBQUc7SUFBQyxJQUFLWixLQUFLZSxNQUFNLElBQUksSUFBSWYsSUFBSSxDQUFDLEVBQUUsR0FBR2dCO0lBQzNILE1BQU1DLHVCQUF1QlIsV0FBVztRQUFFRSxLQUFLRixTQUFTRSxHQUFHO1FBQUVDLEtBQUtILFNBQVNHLEdBQUc7SUFBQyxJQUFLWixLQUFLZSxNQUFNLElBQUksSUFBSWYsSUFBSSxDQUFDLEVBQUUsR0FBR2dCO0lBQ2pILE1BQU1FLFVBQVVkLFFBQVE7UUFBRU8sS0FBS1AsTUFBTU8sR0FBRztRQUFFQyxLQUFLUixNQUFNUSxHQUFHO0lBQUMsSUFBSUM7SUFFN0QsTUFBTSxFQUFFTSxRQUFRLEVBQUVDLFVBQVUsRUFBRUMsY0FBYyxFQUFFLEdBQUcxQiw4Q0FB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QUk7b0NBQUkzQixDQUFBQSxZQUFZTixHQUFHLEdBQUcsR0FBRSxFQUFHdkMsT0FBTyxDQUFDO29DQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQU9yRnZFLENBQUFBLFlBQVlDLFVBQVMsbUJBQ3JCLDhEQUFDeUk7Z0JBQ0NDLFdBQVcsbUhBQXdLLE9BQXJEMUksYUFBYSxzQkFBc0I7Z0JBQ2pLMkksTUFBSztnQkFDTEMsYUFBVTs7b0JBRVQ1SSxhQUFhLHdCQUF3QjtvQkFBcUJvRSxlQUFlLE1BQW1CLE9BQWJBLGdCQUFpQjs7Ozs7Ozs7Ozs7OztBQU0zRztHQWhTd0IxRjs7UUFFb0VOLDZEQUFZQTs7O0tBRmhGTSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0xpdmVNYXAudHN4P2ZiODIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcclxuXHJcbmltcG9ydCBHb29nbGVNYXAgZnJvbSAnLi9Hb29nbGVNYXAnXHJcbmltcG9ydCB7IHVzZUNvdXJpZXJXUyB9IGZyb20gJ0AvaG9va3MvdXNlQ291cmllcldTJ1xyXG5pbXBvcnQgdHlwZSB7IExhdExuZyB9IGZyb20gJ0AvbGliL2dlbydcclxuaW1wb3J0IHsgaGF2ZXJzaW5lIH0gZnJvbSAnQC9saWIvZ2VvJ1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcclxuXHJcbnR5cGUgUHJvcHMgPSB7XHJcbiAgY2VudGVyOiBMYXRMbmdcclxuICBwYXRoOiBMYXRMbmdbXVxyXG4gIHJlY2lwaWVudDogTGF0TG5nXHJcbiAgb25Qcm9ncmVzcz86IChpbmZvOiB7IHBoYXNlOiBzdHJpbmc7IHByb2dyZXNzUGN0OiBudW1iZXIgfCBudWxsIH0pID0+IHZvaWRcclxuICBtZXNzYWdlcz86IFBhcnRpYWw8UmVjb3JkPCdwaWNrZWRVcCcgfCAnYXRTb3J0YXRpb24nIHwgJ3RvSHViJyB8ICdhdEh1YicgfCAnb3V0Rm9yRGVsaXZlcnknIHwgJ2Fycml2aW5nJywgc3RyaW5nPj5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGl2ZU1hcCh7IGNlbnRlciwgcGF0aCwgcmVjaXBpZW50LCBvblByb2dyZXNzLCBtZXNzYWdlcyB9OiBQcm9wcykge1xyXG4gIC8vIFdlYlNvY2tldC1wcm92aWRlZCBwb3NpdGlvbnM6IGNvdXJpZXIgKyBkeW5hbWljIG5vZGVzXHJcbiAgY29uc3QgeyB3c1BvcywgcmVjaXBpZW50OiBkeW5hbWljUmVjaXBpZW50LCBwaWNrdXAsIHNvcnRhdGlvbjogZHluU29ydGF0aW9uLCBkZWxpdmVyeSB9ID0gdXNlQ291cmllcldTKClcclxuICBjb25zdCBlZmZlY3RpdmVSZWNpcGllbnQgPSBkeW5hbWljUmVjaXBpZW50ID8geyBsYXQ6IGR5bmFtaWNSZWNpcGllbnQubGF0LCBsbmc6IGR5bmFtaWNSZWNpcGllbnQubG5nIH0gOiByZWNpcGllbnRcclxuICBjb25zdCBlZmZlY3RpdmVQaWNrdXAgPSBwaWNrdXAgPyB7IGxhdDogcGlja3VwLmxhdCwgbG5nOiBwaWNrdXAubG5nIH0gOiBwYXRoWzBdXHJcbiAgY29uc3QgZWZmZWN0aXZlU29ydGF0aW9uID0gZHluU29ydGF0aW9uID8geyBsYXQ6IGR5blNvcnRhdGlvbi5sYXQsIGxuZzogZHluU29ydGF0aW9uLmxuZyB9IDogKHBhdGgubGVuZ3RoID49IDIgPyBwYXRoWzFdIDogdW5kZWZpbmVkKVxyXG4gIGNvbnN0IGVmZmVjdGl2ZURlbGl2ZXJ5SHViID0gZGVsaXZlcnkgPyB7IGxhdDogZGVsaXZlcnkubGF0LCBsbmc6IGRlbGl2ZXJ5LmxuZyB9IDogKHBhdGgubGVuZ3RoID49IDMgPyBwYXRoWzJdIDogdW5kZWZpbmVkKVxyXG4gIGNvbnN0IGNvdXJpZXIgPSB3c1BvcyA/IHsgbGF0OiB3c1Bvcy5sYXQsIGxuZzogd3NQb3MubG5nIH0gOiBlZmZlY3RpdmVQaWNrdXBcclxuXHJcbiAgY29uc3QgeyBpc05lYXJieSwgaGFzQXJyaXZlZCwgZGlzdGFuY2VNZXRlcnMgfSA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgaWYgKCFjb3VyaWVyIHx8ICFlZmZlY3RpdmVSZWNpcGllbnQpIHJldHVybiB7IGlzTmVhcmJ5OiBmYWxzZSwgaGFzQXJyaXZlZDogZmFsc2UsIGRpc3RhbmNlTWV0ZXJzOiBJbmZpbml0eSB9XHJcbiAgICBjb25zdCBkID0gaGF2ZXJzaW5lKGNvdXJpZXIsIGVmZmVjdGl2ZVJlY2lwaWVudCkgLy8gbWV0ZXJzXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkaXN0YW5jZU1ldGVyczogZCxcclxuICAgICAgaXNOZWFyYnk6IGQgPCAxMDAwLCAvLyA8IDEga21cclxuICAgICAgaGFzQXJyaXZlZDogZCA8IDEwMCwgLy8gPCAwLjEga21cclxuICAgIH1cclxuICB9LCBbY291cmllciwgZWZmZWN0aXZlUmVjaXBpZW50XSlcclxuXHJcbiAgLy8gRG9vcmJlbGwgc291bmQgd2hlbiBlbnRlcmluZyBwcm94aW1pdHlcclxuICBjb25zdCBhdWRpb0N0eFJlZiA9IHVzZVJlZjxBdWRpb0NvbnRleHQgfCBudWxsPihudWxsKVxyXG4gIGNvbnN0IHdhc0Fycml2ZWRSZWYgPSB1c2VSZWYoZmFsc2UpXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBJbml0aWFsaXplIGxhemlseSB0byBhdm9pZCBTU1IgaXNzdWVzIGFuZCBjcmVhdGUgb25seSBvbiBjbGllbnRcclxuICAgIGlmICghYXVkaW9DdHhSZWYuY3VycmVudCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmUgLSB3ZWJraXQgcHJlZml4IGZvciBvbGRlciBTYWZhcmlcclxuICAgICAgICBjb25zdCBDdHggPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHRcclxuICAgICAgICBhdWRpb0N0eFJlZi5jdXJyZW50ID0gbmV3IEN0eCgpXHJcbiAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgIGF1ZGlvQ3R4UmVmLmN1cnJlbnQgPSBudWxsXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIEF0dGVtcHQgdG8gYXV0by1yZXN1bWUgb24gZmlyc3QgdXNlciBpbnRlcmFjdGlvbiAobW9iaWxlIGJyb3dzZXJzKVxyXG4gICAgY29uc3Qgb25GaXJzdEludGVyYWN0ID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBjdHggPSBhdWRpb0N0eFJlZi5jdXJyZW50XHJcbiAgICAgIGlmIChjdHggJiYgY3R4LnN0YXRlID09PSAnc3VzcGVuZGVkJykgY3R4LnJlc3VtZSgpLmNhdGNoKCgpID0+IHt9KVxyXG4gICAgfVxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25GaXJzdEludGVyYWN0LCB7IG9uY2U6IHRydWUgfSlcclxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBvbkZpcnN0SW50ZXJhY3QpXHJcbiAgfSwgW10pXHJcblxyXG4gIGNvbnN0IHJpbmdEb29yYmVsbCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGN0eCA9IGF1ZGlvQ3R4UmVmLmN1cnJlbnRcclxuICAgIGlmICghY3R4KSByZXR1cm5cclxuICAgIGNvbnN0IG5vdyA9IGN0eC5jdXJyZW50VGltZVxyXG4gICAgY29uc3QgbWFrZSA9IChmcmVxOiBudW1iZXIsIHN0YXJ0OiBudW1iZXIsIGR1cjogbnVtYmVyLCBnYWluID0gMC4wOCkgPT4ge1xyXG4gICAgICBjb25zdCBvc2MgPSBjdHguY3JlYXRlT3NjaWxsYXRvcigpXHJcbiAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlR2FpbigpXHJcbiAgICAgIG9zYy50eXBlID0gJ3NpbmUnXHJcbiAgICAgIG9zYy5mcmVxdWVuY3kudmFsdWUgPSBmcmVxXHJcbiAgICAgIG9zYy5jb25uZWN0KGcpXHJcbiAgICAgIGcuY29ubmVjdChjdHguZGVzdGluYXRpb24pXHJcbiAgICAgIC8vIHNpbXBsZSBlbnZlbG9wZSBmb3Igc3VidGxlIGNoaW1lXHJcbiAgICAgIGcuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLCBzdGFydClcclxuICAgICAgZy5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGdhaW4sIHN0YXJ0ICsgMC4wMilcclxuICAgICAgZy5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMDAxLCBzdGFydCArIGR1cilcclxuICAgICAgb3NjLnN0YXJ0KHN0YXJ0KVxyXG4gICAgICBvc2Muc3RvcChzdGFydCArIGR1ciArIDAuMDIpXHJcbiAgICB9XHJcbiAgICAvLyBUd28tdG9uZSBzb2Z0IGRvb3JiZWxsXHJcbiAgICBtYWtlKDg4MCwgbm93LCAwLjE4KSAvLyBBNVxyXG4gICAgbWFrZSgxMzE4LjUxLCBub3cgKyAwLjEyLCAwLjIyKSAvLyBFNlxyXG4gIH1cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChoYXNBcnJpdmVkICYmICF3YXNBcnJpdmVkUmVmLmN1cnJlbnQpIHtcclxuICAgICAgcmluZ0Rvb3JiZWxsKClcclxuICAgIH1cclxuICAgIHdhc0Fycml2ZWRSZWYuY3VycmVudCA9IGhhc0Fycml2ZWRcclxuICB9LCBbaGFzQXJyaXZlZF0pXHJcblxyXG4gIC8vIFNtYWxsIGlubGluZSBTVkcgaWNvbnMgdG8gbWF0Y2ggbWFya2VyIHNlbWFudGljc1xyXG4gIGNvbnN0IFdhcmVob3VzZUljb24gPSAoKSA9PiAoXHJcbiAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMzIgMzJcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cclxuICAgICAgPHBhdGggZD1cIk00IDE0IEwxNiA2IEwyOCAxNCBWMjYgSDQgWlwiIGZpbGw9XCIjOTRBM0I4XCIgc3Ryb2tlPVwiIzMzNDE1NVwiIHN0cm9rZVdpZHRoPVwiMlwiIC8+XHJcbiAgICAgIDxyZWN0IHg9XCI3XCIgeT1cIjE4XCIgd2lkdGg9XCI2XCIgaGVpZ2h0PVwiNlwiIGZpbGw9XCIjRTVFN0VCXCIgc3Ryb2tlPVwiIzMzNDE1NVwiIHN0cm9rZVdpZHRoPVwiMS41XCIgLz5cclxuICAgICAgPHJlY3QgeD1cIjE5XCIgeT1cIjE4XCIgd2lkdGg9XCI2XCIgaGVpZ2h0PVwiNlwiIGZpbGw9XCIjRTVFN0VCXCIgc3Ryb2tlPVwiIzMzNDE1NVwiIHN0cm9rZVdpZHRoPVwiMS41XCIgLz5cclxuICAgIDwvc3ZnPlxyXG4gIClcclxuICBjb25zdCBUcnVja0ljb24gPSAoKSA9PiAoXHJcbiAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMzIgMzJcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cclxuICAgICAgPHJlY3QgeD1cIjNcIiB5PVwiMTRcIiB3aWR0aD1cIjE0XCIgaGVpZ2h0PVwiOFwiIHJ4PVwiMlwiIGZpbGw9XCIjNjBBNUZBXCIgc3Ryb2tlPVwiIzFENEVEOFwiIHN0cm9rZVdpZHRoPVwiMlwiIC8+XHJcbiAgICAgIDxwYXRoIGQ9XCJNMTcgMTYgSDI1IEwyOCAxOSBWMjIgSDE3IFpcIiBmaWxsPVwiIzNCODJGNlwiIHN0cm9rZT1cIiMxRDRFRDhcIiBzdHJva2VXaWR0aD1cIjJcIiAvPlxyXG4gICAgICA8Y2lyY2xlIGN4PVwiOVwiIGN5PVwiMjRcIiByPVwiM1wiIGZpbGw9XCIjMEVBNUU5XCIgc3Ryb2tlPVwiIzA3NTk4NVwiIHN0cm9rZVdpZHRoPVwiMlwiIC8+XHJcbiAgICAgIDxjaXJjbGUgY3g9XCIyM1wiIGN5PVwiMjRcIiByPVwiM1wiIGZpbGw9XCIjMEVBNUU5XCIgc3Ryb2tlPVwiIzA3NTk4NVwiIHN0cm9rZVdpZHRoPVwiMlwiIC8+XHJcbiAgICA8L3N2Zz5cclxuICApXHJcbiAgY29uc3QgUGVyc29uSWNvbiA9ICgpID0+IChcclxuICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAzMiAzMlwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxyXG4gICAgICA8Y2lyY2xlIGN4PVwiMTZcIiBjeT1cIjExXCIgcj1cIjVcIiBmaWxsPVwiI0Y4NzE3MVwiIHN0cm9rZT1cIiM3RjFEMURcIiBzdHJva2VXaWR0aD1cIjJcIiAvPlxyXG4gICAgICA8cGF0aCBkPVwiTTggMjZjMC00IDMuNS03IDgtN3M4IDMgOCA3XCIgZmlsbD1cIiNGQ0E1QTVcIiBzdHJva2U9XCIjN0YxRDFEXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIC8+XHJcbiAgICA8L3N2Zz5cclxuICApXHJcblxyXG4gIC8vIExvZ2ljYWwgd2F5cG9pbnRzIG5vdyBjb21lIGZyb20gZHluYW1pYyBmZWVkIChmYWxsYmFjayB0byBwcm92aWRlZCBwYXRoKTogcGlja3VwIC0+IHNvcnRhdGlvbiAtPiBkZWxpdmVyeSBodWIgLT4gcmVjaXBpZW50XHJcbiAgY29uc3Qgb3JpZ2luID0gZWZmZWN0aXZlUGlja3VwXHJcbiAgY29uc3Qgc29ydGF0aW9uID0gZWZmZWN0aXZlU29ydGF0aW9uXHJcbiAgY29uc3QgaHViID0gZWZmZWN0aXZlRGVsaXZlcnlIdWJcclxuXHJcbiAgLy8gQnVpbGQgYSBicmVhZGNydW1iIHBvbHlsaW5lIGZyb20gYWN0dWFsIHJlY2VpdmVkIHBvc2l0aW9ucyAoV1MpIHRvIHZpc3VhbGl6ZSB0cmF2ZWxlZCBwYXRoLlxyXG4gIGNvbnN0IFticmVhZGNydW1icywgc2V0QnJlYWRjcnVtYnNdID0gdXNlU3RhdGU8TGF0TG5nW10+KCgpID0+IFtvcmlnaW5dKVxyXG4gIGNvbnN0IGxhc3RBZGRlZFJlZiA9IHVzZVJlZjxMYXRMbmc+KG9yaWdpbilcclxuICAvLyBJZiB0aGUgb3JpZ2luIGNoYW5nZXMgZHluYW1pY2FsbHkgKGZpcnN0IHBpY2t1cCB1cGRhdGUgYXJyaXZlcyksIHJlc2V0IGJyZWFkY3J1bWJzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHNldEJyZWFkY3J1bWJzKFtvcmlnaW5dKVxyXG4gICAgbGFzdEFkZGVkUmVmLmN1cnJlbnQgPSBvcmlnaW5cclxuICB9LCBbb3JpZ2luLmxhdCwgb3JpZ2luLmxuZ10pXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghY291cmllcikgcmV0dXJuXHJcbiAgICBjb25zdCBsYXN0ID0gbGFzdEFkZGVkUmVmLmN1cnJlbnRcclxuICAgIGNvbnN0IGRpc3QgPSBoYXZlcnNpbmUobGFzdCwgY291cmllcilcclxuICAgIC8vIE9ubHkgYXBwZW5kIGlmIG1vdmVkID4gNSBtZXRlcnMgdG8gcmVkdWNlIG5vaXNlXHJcbiAgICBpZiAoZGlzdCA+IDUpIHtcclxuICAgICAgc2V0QnJlYWRjcnVtYnMocHJldiA9PiBbLi4ucHJldiwgY291cmllcl0pXHJcbiAgICAgIGxhc3RBZGRlZFJlZi5jdXJyZW50ID0gY291cmllclxyXG4gICAgfVxyXG4gIH0sIFtjb3VyaWVyXSlcclxuXHJcbiAgY29uc3QgZGlzdGFuY2VUZXh0ID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoZGlzdGFuY2VNZXRlcnMgPT09IHVuZGVmaW5lZCB8fCAhaXNGaW5pdGUoZGlzdGFuY2VNZXRlcnMpKSByZXR1cm4gJydcclxuICAgIHJldHVybiBkaXN0YW5jZU1ldGVycyA+PSAxMDAwXHJcbiAgICAgID8gYCR7KGRpc3RhbmNlTWV0ZXJzIC8gMTAwMCkudG9GaXhlZCgyKX0ga20gYXdheWBcclxuICAgICAgOiBgJHtNYXRoLnJvdW5kKGRpc3RhbmNlTWV0ZXJzKX0gbSBhd2F5YFxyXG4gIH0sIFtkaXN0YW5jZU1ldGVyc10pXHJcblxyXG4gIC8vIFdheXBvaW50IGFycml2YWwgJiBzdGF0dXMgbWVzc2FnaW5nICh0cmFuc2l0aW9uLWJhc2VkKVxyXG4gIGNvbnN0IHdheXBvaW50SGl0UmFkaXVzID0gMzAgLy8gbWV0ZXJzIHRocmVzaG9sZFxyXG4gIGNvbnN0IGlzQXRQaWNrdXAgPSB1c2VNZW1vKCgpID0+IGhhdmVyc2luZShjb3VyaWVyLCBvcmlnaW4pIDw9IHdheXBvaW50SGl0UmFkaXVzLCBbY291cmllciwgb3JpZ2luXSlcclxuICBjb25zdCBpc0F0U29ydGF0aW9uID0gdXNlTWVtbygoKSA9PiBzb3J0YXRpb24gPyBoYXZlcnNpbmUoY291cmllciwgc29ydGF0aW9uKSA8PSB3YXlwb2ludEhpdFJhZGl1cyA6IGZhbHNlLCBbY291cmllciwgc29ydGF0aW9uXSlcclxuICBjb25zdCBpc0F0SHViID0gdXNlTWVtbygoKSA9PiBodWIgPyBoYXZlcnNpbmUoY291cmllciwgaHViKSA8PSB3YXlwb2ludEhpdFJhZGl1cyA6IGZhbHNlLCBbY291cmllciwgaHViXSlcclxuXHJcbiAgY29uc3QgW2xlZ01zZywgc2V0TGVnTXNnXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXHJcbiAgY29uc3QgW2xlZ0ljb24sIHNldExlZ0ljb25dID0gdXNlU3RhdGU8J3dhcmVob3VzZScgfCAndHJ1Y2snIHwgJ3BlcnNvbicgfCBudWxsPihudWxsKVxyXG4gIGNvbnN0IFtsZWdUaW1lc3RhbXAsIHNldExlZ1RpbWVzdGFtcF0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKVxyXG4gIGNvbnN0IFtzaW5jZUNoYW5nZU1zLCBzZXRTaW5jZUNoYW5nZU1zXSA9IHVzZVN0YXRlPG51bWJlcj4oMClcclxuICBjb25zdCB0aWNrUmVmID0gdXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpXHJcbiAgY29uc3QgcHJldkZsYWdzUmVmID0gdXNlUmVmKHsgYXRQaWNrdXA6IGZhbHNlLCBhdFNvcnRhdGlvbjogZmFsc2UsIGF0SHViOiBmYWxzZSwgYXJyaXZlZDogZmFsc2UgfSlcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHByZXYgPSBwcmV2RmxhZ3NSZWYuY3VycmVudFxyXG4gICAgY29uc3QgbG9jYWxpemVkID0ge1xyXG4gICAgICBwaWNrZWRVcDogJ1BpY2tlZCB1cCDigJMgcGFyY2VsIGluIHRyYW5zaXQnLFxyXG4gICAgICBhdFNvcnRhdGlvbjogJ1BhcmNlbCByZWNlaXZlZCBhdCBzb3J0YXRpb24gY2VudGVyJyxcclxuICAgICAgdG9IdWI6ICdPbiB0aGUgd2F5IHRvIERlbGl2ZXJ5IEh1YicsXHJcbiAgICAgIGF0SHViOiAnQXJyaXZlZCBhdCBkZWxpdmVyeSBodWInLFxyXG4gICAgICBvdXRGb3JEZWxpdmVyeTogJ091dCBmb3IgZGVsaXZlcnknLFxyXG4gICAgICBhcnJpdmluZzogJ0Fycml2aW5nIG5vdycsXHJcbiAgICAgIC4uLihtZXNzYWdlcyB8fCB7fSlcclxuICAgIH1cclxuICAgIGNvbnN0IHNldFN0YXR1cyA9IChtc2c6IHN0cmluZywgaWNvbjogdHlwZW9mIGxlZ0ljb24pID0+IHtcclxuICAgICAgc2V0TGVnTXNnKG1zZylcclxuICAgICAgc2V0TGVnSWNvbihpY29uKVxyXG4gICAgICBzZXRMZWdUaW1lc3RhbXAoRGF0ZS5ub3coKSlcclxuICAgICAgc2V0U2luY2VDaGFuZ2VNcygwKVxyXG4gICAgfVxyXG4gICAgaWYgKGlzQXRQaWNrdXAgJiYgIXByZXYuYXRQaWNrdXApIHNldFN0YXR1cyhsb2NhbGl6ZWQucGlja2VkVXAsICd0cnVjaycpXHJcbiAgICBpZiAoaXNBdFNvcnRhdGlvbiAmJiAhcHJldi5hdFNvcnRhdGlvbikgc2V0U3RhdHVzKGxvY2FsaXplZC5hdFNvcnRhdGlvbiwgJ3dhcmVob3VzZScpXHJcbiAgICBpZiAoIWlzQXRTb3J0YXRpb24gJiYgcHJldi5hdFNvcnRhdGlvbiAmJiAhaXNBdEh1YiAmJiAhaGFzQXJyaXZlZCkgc2V0U3RhdHVzKGxvY2FsaXplZC50b0h1YiwgJ3RydWNrJylcclxuICAgIGlmIChpc0F0SHViICYmICFwcmV2LmF0SHViKSBzZXRTdGF0dXMobG9jYWxpemVkLmF0SHViLCAndHJ1Y2snKVxyXG4gICAgaWYgKCFpc0F0SHViICYmIHByZXYuYXRIdWIgJiYgIWhhc0Fycml2ZWQpIHNldFN0YXR1cyhsb2NhbGl6ZWQub3V0Rm9yRGVsaXZlcnksICd0cnVjaycpXHJcbiAgICBpZiAoaGFzQXJyaXZlZCAmJiAhcHJldi5hcnJpdmVkKSBzZXRTdGF0dXMobG9jYWxpemVkLmFycml2aW5nLCAncGVyc29uJylcclxuICAgIHByZXZGbGFnc1JlZi5jdXJyZW50ID0geyBhdFBpY2t1cDogaXNBdFBpY2t1cCwgYXRTb3J0YXRpb246IGlzQXRTb3J0YXRpb24sIGF0SHViOiBpc0F0SHViLCBhcnJpdmVkOiBoYXNBcnJpdmVkIH1cclxuICB9LCBbaXNBdFBpY2t1cCwgaXNBdFNvcnRhdGlvbiwgaXNBdEh1YiwgaGFzQXJyaXZlZCwgbWVzc2FnZXNdKVxyXG5cclxuICAvLyBFbGFwc2VkIHRpbWUgc2luY2UgbGFzdCBzdGF0dXMgY2hhbmdlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghbGVnVGltZXN0YW1wKSByZXR1cm5cclxuICAgIGNvbnN0IHRpY2sgPSAoKSA9PiB7XHJcbiAgICAgIHNldFNpbmNlQ2hhbmdlTXMoRGF0ZS5ub3coKSAtIGxlZ1RpbWVzdGFtcClcclxuICAgICAgdGlja1JlZi5jdXJyZW50ID0gd2luZG93LnNldFRpbWVvdXQodGljaywgMTAwMClcclxuICAgIH1cclxuICAgIHRpY2soKVxyXG4gICAgcmV0dXJuICgpID0+IHsgaWYgKHRpY2tSZWYuY3VycmVudCkgd2luZG93LmNsZWFyVGltZW91dCh0aWNrUmVmLmN1cnJlbnQpIH1cclxuICB9LCBbbGVnVGltZXN0YW1wXSlcclxuXHJcbiAgLy8gTGVnIHByb2dyZXNzIHBlcmNlbnRhZ2VcclxuICBjb25zdCBsZWdQcm9ncmVzc1JhdyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgLy8gRGV0ZXJtaW5lIGN1cnJlbnQgbGVnIHN0YXJ0ICYgZW5kXHJcbiAgICBpZiAoIWNvdXJpZXIpIHJldHVybiBudWxsXHJcbiAgICBjb25zdCBsZWdzOiB7IHN0YXJ0PzogTGF0TG5nOyBlbmQ/OiBMYXRMbmc7IGxhYmVsOiBzdHJpbmcgfVtdID0gW1xyXG4gICAgICB7IHN0YXJ0OiBvcmlnaW4sIGVuZDogc29ydGF0aW9uLCBsYWJlbDogJ3RvLXNvcnRhdGlvbicgfSxcclxuICAgICAgeyBzdGFydDogc29ydGF0aW9uLCBlbmQ6IGh1YiwgbGFiZWw6ICd0by1odWInIH0sXHJcbiAgICAgIHsgc3RhcnQ6IGh1YiwgZW5kOiBlZmZlY3RpdmVSZWNpcGllbnQsIGxhYmVsOiAndG8tcmVjaXBpZW50JyB9LFxyXG4gICAgXVxyXG4gICAgZm9yIChjb25zdCBsZWcgb2YgbGVncykge1xyXG4gICAgICBpZiAoIWxlZy5zdGFydCB8fCAhbGVnLmVuZCkgY29udGludWVcclxuICAgICAgY29uc3QgdG90YWwgPSBoYXZlcnNpbmUobGVnLnN0YXJ0LCBsZWcuZW5kKVxyXG4gICAgICBpZiAodG90YWwgPT09IDApIGNvbnRpbnVlXHJcbiAgICAgIC8vIElmIGNvdXJpZXIgaXMgd2l0aGluIHJhZGl1cyBvZiBlbmQsIHRyZWF0IGFzIDEwMCVcclxuICAgICAgaWYgKGhhdmVyc2luZShjb3VyaWVyLCBsZWcuZW5kKSA8PSB3YXlwb2ludEhpdFJhZGl1cykgcmV0dXJuIHsgcGN0OiAxLCBsYWJlbDogbGVnLmxhYmVsIH1cclxuICAgICAgLy8gQ2hlY2sgaWYgY291cmllciBpcyBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmQgdXNpbmcgcHJvamVjdGlvbiBoZXVyaXN0aWMgKHN1bSBkaXN0YW5jZXMgdnMgdG90YWwpXHJcbiAgICAgIGNvbnN0IGRpc3RTdGFydCA9IGhhdmVyc2luZShsZWcuc3RhcnQsIGNvdXJpZXIpXHJcbiAgICAgIGNvbnN0IGRpc3RFbmQgPSBoYXZlcnNpbmUoY291cmllciwgbGVnLmVuZClcclxuICAgICAgaWYgKGRpc3RTdGFydCA8IHRvdGFsICYmIGRpc3RFbmQgPCB0b3RhbCAmJiBkaXN0U3RhcnQgKyBkaXN0RW5kIDw9IHRvdGFsICogMS4yNSkge1xyXG4gICAgICAgIGNvbnN0IHBjdCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIGRpc3RTdGFydCAvIHRvdGFsKSlcclxuICAgICAgICByZXR1cm4geyBwY3QsIGxhYmVsOiBsZWcubGFiZWwgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH0sIFtjb3VyaWVyLCBvcmlnaW4sIHNvcnRhdGlvbiwgaHViLCBlZmZlY3RpdmVSZWNpcGllbnRdKVxyXG5cclxuICAvLyBNb3ZpbmcgYXZlcmFnZSBzbW9vdGhpbmcgd2luZG93XHJcbiAgY29uc3QgcHJvZ3Jlc3NXaW5kb3dSZWYgPSB1c2VSZWY8bnVtYmVyW10+KFtdKVxyXG4gIGNvbnN0IGxlZ1Byb2dyZXNzID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoIWxlZ1Byb2dyZXNzUmF3KSB7XHJcbiAgICAgIHByb2dyZXNzV2luZG93UmVmLmN1cnJlbnQgPSBbXVxyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gICAgcHJvZ3Jlc3NXaW5kb3dSZWYuY3VycmVudC5wdXNoKGxlZ1Byb2dyZXNzUmF3LnBjdClcclxuICAgIGlmIChwcm9ncmVzc1dpbmRvd1JlZi5jdXJyZW50Lmxlbmd0aCA+IDEwKSBwcm9ncmVzc1dpbmRvd1JlZi5jdXJyZW50LnNoaWZ0KClcclxuICAgIGNvbnN0IGF2ZyA9IHByb2dyZXNzV2luZG93UmVmLmN1cnJlbnQucmVkdWNlKChzLCB2KSA9PiBzICsgdiwgMCkgLyBwcm9ncmVzc1dpbmRvd1JlZi5jdXJyZW50Lmxlbmd0aFxyXG4gICAgcmV0dXJuIHsgcGN0OiBhdmcsIGxhYmVsOiBsZWdQcm9ncmVzc1Jhdy5sYWJlbCB9XHJcbiAgfSwgW2xlZ1Byb2dyZXNzUmF3XSlcclxuXHJcbiAgLy8gRW1pdCBwcm9ncmVzcyBjYWxsYmFja1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAob25Qcm9ncmVzcykge1xyXG4gICAgICBvblByb2dyZXNzKHsgcGhhc2U6IGxlZ1Byb2dyZXNzPy5sYWJlbCB8fCAoaGFzQXJyaXZlZCA/ICdyZWNpcGllbnQnIDogJ3Vua25vd24nKSwgcHJvZ3Jlc3NQY3Q6IGxlZ1Byb2dyZXNzID8gbGVnUHJvZ3Jlc3MucGN0IDogbnVsbCB9KVxyXG4gICAgfVxyXG4gIH0sIFtsZWdQcm9ncmVzcywgb25Qcm9ncmVzcywgaGFzQXJyaXZlZF0pXHJcblxyXG4gIGNvbnN0IHByZXR0eVRpbWVzdGFtcCA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgaWYgKCFsZWdUaW1lc3RhbXApIHJldHVybiAnJ1xyXG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKGxlZ1RpbWVzdGFtcClcclxuICAgIHJldHVybiBkLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnLCBzZWNvbmQ6ICcyLWRpZ2l0JyB9KVxyXG4gIH0sIFtsZWdUaW1lc3RhbXBdKVxyXG5cclxuICBjb25zdCBlbGFwc2VkUHJldHR5ID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoIWxlZ1RpbWVzdGFtcCkgcmV0dXJuICcnXHJcbiAgICBjb25zdCB0b3RhbFNlYyA9IE1hdGguZmxvb3Ioc2luY2VDaGFuZ2VNcyAvIDEwMDApXHJcbiAgICBjb25zdCBtID0gTWF0aC5mbG9vcih0b3RhbFNlYyAvIDYwKVxyXG4gICAgY29uc3QgcyA9IHRvdGFsU2VjICUgNjBcclxuICAgIHJldHVybiBgKCske219bSR7cy50b1N0cmluZygpLnBhZFN0YXJ0KDIsJzAnKX1zKWBcclxuICB9LCBbc2luY2VDaGFuZ2VNcywgbGVnVGltZXN0YW1wXSlcclxuXHJcbiAgY29uc3QgcGhhc2VDb2xvciA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgaWYgKCFsZWdNc2cpIHJldHVybiAnYmctc2xhdGUtODAwLzk1J1xyXG4gICAgaWYgKGxlZ01zZy5pbmNsdWRlcygnc29ydGF0aW9uJykpIHJldHVybiAnYmctaW5kaWdvLTcwMC85NSdcclxuICAgIGlmIChsZWdNc2cuaW5jbHVkZXMoJ0RlbGl2ZXJ5IEh1YicpKSByZXR1cm4gJ2JnLWJsdWUtNzAwLzk1J1xyXG4gICAgaWYgKGxlZ01zZy5pbmNsdWRlcygnT3V0IGZvciBkZWxpdmVyeScpKSByZXR1cm4gJ2JnLWFtYmVyLTYwMC85NSdcclxuICAgIGlmIChsZWdNc2cuaW5jbHVkZXMoJ0Fycml2aW5nIG5vdycpKSByZXR1cm4gJ2JnLWVtZXJhbGQtNzAwLzk1J1xyXG4gICAgaWYgKGxlZ01zZy5pbmNsdWRlcygnUGlja2VkIHVwJykpIHJldHVybiAnYmctc2t5LTcwMC85NSdcclxuICAgIHJldHVybiAnYmctc2xhdGUtODAwLzk1J1xyXG4gIH0sIFtsZWdNc2ddKVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBoLWZ1bGwgdy1mdWxsXCI+XHJcbiAgICAgIDxHb29nbGVNYXBcclxuICAgICAgICBjZW50ZXI9e2NlbnRlcn1cclxuICAgICAgICBwYXRoPXticmVhZGNydW1ic31cclxuICAgICAgICByZWNpcGllbnQ9e2VmZmVjdGl2ZVJlY2lwaWVudH1cclxuICAgICAgICBjb3VyaWVyPXtjb3VyaWVyfVxyXG4gICAgICAgIHNvcnRhdGlvbj17c29ydGF0aW9ufVxyXG4gICAgICAgIGh1Yj17aHVifVxyXG4gICAgICAvPlxyXG4gICAgICB7bGVnTXNnICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgbGVmdC0wIHJpZ2h0LTAgdG9wLTAgei0xMFwiIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWxpdmU9XCJwb2xpdGVcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgbXgtYXV0byBtYXgtdy14bCByb3VuZGVkLWItbGcgJHtwaGFzZUNvbG9yfSBweC00IHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtMTAwIHNoYWRvdy1sZyB0cmFuc2l0aW9uLWNvbG9yc2B9PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGZsZXgtd3JhcFwiPlxyXG4gICAgICAgICAgICAgIHtsZWdJY29uID09PSAnd2FyZWhvdXNlJyAmJiA8V2FyZWhvdXNlSWNvbiAvPn1cclxuICAgICAgICAgICAgICB7bGVnSWNvbiA9PT0gJ3RydWNrJyAmJiA8VHJ1Y2tJY29uIC8+fVxyXG4gICAgICAgICAgICAgIHtsZWdJY29uID09PSAncGVyc29uJyAmJiA8UGVyc29uSWNvbiAvPn1cclxuICAgICAgICAgICAgICA8c3Bhbj57bGVnTXNnfTwvc3Bhbj5cclxuICAgICAgICAgICAgICB7cHJldHR5VGltZXN0YW1wICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ub3JtYWwgdGV4dC1zbGF0ZS0yMDBcIj5AIHtwcmV0dHlUaW1lc3RhbXB9PC9zcGFuPn1cclxuICAgICAgICAgICAgICB7ZWxhcHNlZFByZXR0eSAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtMzAwXCI+e2VsYXBzZWRQcmV0dHl9PC9zcGFuPn1cclxuICAgICAgICAgICAgICB7bGVnUHJvZ3Jlc3MgJiYgKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtYXV0byB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRyYWNraW5nLXdpZGUgdGV4dC1zbGF0ZS0zMDBcIj5cclxuICAgICAgICAgICAgICAgICAge2xlZ1Byb2dyZXNzLmxhYmVsLnJlcGxhY2UoJ3RvLScsJycpfTogeyhsZWdQcm9ncmVzcy5wY3QgKiAxMDApLnRvRml4ZWQoMCl9JVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICAgIHsoaXNOZWFyYnkgfHwgaGFzQXJyaXZlZCkgJiYgKFxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIGNsYXNzTmFtZT17YHBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgdG9wLTMgcmlnaHQtMyB6LTEwIHJvdW5kZWQtbGcgcHgtNCBweS0yIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIHNoYWRvdy1sZyAke2hhc0Fycml2ZWQgPyAnYmctZW1lcmFsZC02MDAvOTUnIDogJ2JnLWFtYmVyLTUwMC85NSd9YH1cclxuICAgICAgICAgIHJvbGU9XCJzdGF0dXNcIlxyXG4gICAgICAgICAgYXJpYS1saXZlPVwicG9saXRlXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICB7aGFzQXJyaXZlZCA/ICdwYWNrYWdlIGhhcyBhcnJpdmVkJyA6ICdwYWNrYWdlIGlzIG5lYXJieSd9e2Rpc3RhbmNlVGV4dCA/IGAg4oCUICR7ZGlzdGFuY2VUZXh0fWAgOiAnJ31cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgICAgey8qIFJlbW92ZWQgaW50ZXJwb2xhdGlvbi1iYXNlZCByZW1haW5pbmcvRVRBIHBhbmVsIChTU0UgcmVtb3ZlZCkgKi99XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuIl0sIm5hbWVzIjpbIkdvb2dsZU1hcCIsInVzZUNvdXJpZXJXUyIsImhhdmVyc2luZSIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkxpdmVNYXAiLCJjZW50ZXIiLCJwYXRoIiwicmVjaXBpZW50Iiwib25Qcm9ncmVzcyIsIm1lc3NhZ2VzIiwid3NQb3MiLCJkeW5hbWljUmVjaXBpZW50IiwicGlja3VwIiwic29ydGF0aW9uIiwiZHluU29ydGF0aW9uIiwiZGVsaXZlcnkiLCJlZmZlY3RpdmVSZWNpcGllbnQiLCJsYXQiLCJsbmciLCJlZmZlY3RpdmVQaWNrdXAiLCJlZmZlY3RpdmVTb3J0YXRpb24iLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJlZmZlY3RpdmVEZWxpdmVyeUh1YiIsImNvdXJpZXIiLCJpc05lYXJieSIsImhhc0Fycml2ZWQiLCJkaXN0YW5jZU1ldGVycyIsIkluZmluaXR5IiwiZCIsImF1ZGlvQ3R4UmVmIiwid2FzQXJyaXZlZFJlZiIsImN1cnJlbnQiLCJDdHgiLCJ3aW5kb3ciLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJvbkZpcnN0SW50ZXJhY3QiLCJjdHgiLCJzdGF0ZSIsInJlc3VtZSIsImNhdGNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmluZ0Rvb3JiZWxsIiwibm93IiwiY3VycmVudFRpbWUiLCJtYWtlIiwiZnJlcSIsInN0YXJ0IiwiZHVyIiwiZ2FpbiIsIm9zYyIsImNyZWF0ZU9zY2lsbGF0b3IiLCJnIiwiY3JlYXRlR2FpbiIsInR5cGUiLCJmcmVxdWVuY3kiLCJ2YWx1ZSIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsInNldFZhbHVlQXRUaW1lIiwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWUiLCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lIiwic3RvcCIsIldhcmVob3VzZUljb24iLCJzdmciLCJ3aWR0aCIsImhlaWdodCIsInZpZXdCb3giLCJhcmlhLWhpZGRlbiIsImZpbGwiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInJlY3QiLCJ4IiwieSIsIlRydWNrSWNvbiIsInJ4IiwiY2lyY2xlIiwiY3giLCJjeSIsInIiLCJQZXJzb25JY29uIiwic3Ryb2tlTGluZWpvaW4iLCJvcmlnaW4iLCJodWIiLCJicmVhZGNydW1icyIsInNldEJyZWFkY3J1bWJzIiwibGFzdEFkZGVkUmVmIiwibGFzdCIsImRpc3QiLCJwcmV2IiwiZGlzdGFuY2VUZXh0IiwiaXNGaW5pdGUiLCJ0b0ZpeGVkIiwiTWF0aCIsInJvdW5kIiwid2F5cG9pbnRIaXRSYWRpdXMiLCJpc0F0UGlja3VwIiwiaXNBdFNvcnRhdGlvbiIsImlzQXRIdWIiLCJsZWdNc2ciLCJzZXRMZWdNc2ciLCJsZWdJY29uIiwic2V0TGVnSWNvbiIsImxlZ1RpbWVzdGFtcCIsInNldExlZ1RpbWVzdGFtcCIsInNpbmNlQ2hhbmdlTXMiLCJzZXRTaW5jZUNoYW5nZU1zIiwidGlja1JlZiIsInByZXZGbGFnc1JlZiIsImF0UGlja3VwIiwiYXRTb3J0YXRpb24iLCJhdEh1YiIsImFycml2ZWQiLCJsb2NhbGl6ZWQiLCJwaWNrZWRVcCIsInRvSHViIiwib3V0Rm9yRGVsaXZlcnkiLCJhcnJpdmluZyIsInNldFN0YXR1cyIsIm1zZyIsImljb24iLCJEYXRlIiwidGljayIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJsZWdQcm9ncmVzc1JhdyIsImxlZ3MiLCJlbmQiLCJsYWJlbCIsImxlZyIsInRvdGFsIiwicGN0IiwiZGlzdFN0YXJ0IiwiZGlzdEVuZCIsIm1pbiIsIm1heCIsInByb2dyZXNzV2luZG93UmVmIiwibGVnUHJvZ3Jlc3MiLCJwdXNoIiwic2hpZnQiLCJhdmciLCJyZWR1Y2UiLCJzIiwidiIsInBoYXNlIiwicHJvZ3Jlc3NQY3QiLCJwcmV0dHlUaW1lc3RhbXAiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwiZWxhcHNlZFByZXR0eSIsInRvdGFsU2VjIiwiZmxvb3IiLCJtIiwidG9TdHJpbmciLCJwYWRTdGFydCIsInBoYXNlQ29sb3IiLCJpbmNsdWRlcyIsImRpdiIsImNsYXNzTmFtZSIsInJvbGUiLCJhcmlhLWxpdmUiLCJzcGFuIiwicmVwbGFjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/LiveMap.tsx\n"));

/***/ })

});